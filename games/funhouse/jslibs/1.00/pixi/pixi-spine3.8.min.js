var pixi_spine,__extends=this&&this.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();!function(t){!function(L){var Y,t,g,e,n,r,W=(a.prototype.hasTimeline=function(t){return 1==this.timelineIds[t]},a.prototype.apply=function(t,e,n,r,a,i,o,s){if(null==t)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(n%=this.duration,0<e&&(e%=this.duration));for(var l=this.timelines,h=0,c=l.length;h<c;h++)l[h].apply(t,e,n,a,i,o,s)},a.binarySearch=function(t,e,n){void 0===n&&(n=1);var r=0,a=t.length/n-2;if(0==a)return n;for(var i=a>>>1;;){if(t[(i+1)*n]<=e?r=i+1:a=i,r==a)return(r+1)*n;i=r+a>>>1}},a.linearSearch=function(t,e,n){for(var r=0,a=t.length-n;r<=a;r+=n)if(t[r]>e)return r;return-1},a);function a(t,e,n){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.timelineIds=[];for(var r=0;r<e.length;r++)this.timelineIds[e[r].getPropertyId()]=!0;this.duration=n}L.Animation=W,(t=Y=L.MixBlend||(L.MixBlend={}))[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add",(e=g=L.MixDirection||(L.MixDirection={}))[e.mixIn=0]="mixIn",e[e.mixOut=1]="mixOut",(r=n=L.TimelineType||(L.TimelineType={}))[r.rotate=0]="rotate",r[r.translate=1]="translate",r[r.scale=2]="scale",r[r.shear=3]="shear",r[r.attachment=4]="attachment",r[r.color=5]="color",r[r.deform=6]="deform",r[r.event=7]="event",r[r.drawOrder=8]="drawOrder",r[r.ikConstraint=9]="ikConstraint",r[r.transformConstraint=10]="transformConstraint",r[r.pathConstraintPosition=11]="pathConstraintPosition",r[r.pathConstraintSpacing=12]="pathConstraintSpacing",r[r.pathConstraintMix=13]="pathConstraintMix",r[r.twoColor=14]="twoColor";var i=(y.prototype.getFrameCount=function(){return this.curves.length/y.BEZIER_SIZE+1},y.prototype.setLinear=function(t){this.curves[t*y.BEZIER_SIZE]=y.LINEAR},y.prototype.setStepped=function(t){this.curves[t*y.BEZIER_SIZE]=y.STEPPED},y.prototype.getCurveType=function(t){var e=t*y.BEZIER_SIZE;if(e==this.curves.length)return y.LINEAR;var n=this.curves[e];return n==y.LINEAR?y.LINEAR:n==y.STEPPED?y.STEPPED:y.BEZIER},y.prototype.setCurve=function(t,e,n,r,a){var i=.03*(2*-e+r),o=.03*(2*-n+a),s=.006*(3*(e-r)+1),l=.006*(3*(n-a)+1),h=2*i+s,c=2*o+l,u=.3*e+i+.16666667*s,p=.3*n+o+.16666667*l,d=t*y.BEZIER_SIZE,f=this.curves;f[d++]=y.BEZIER;for(var m=u,g=p,v=d+y.BEZIER_SIZE-1;d<v;d+=2)f[d]=m,f[d+1]=g,u+=h,p+=c,h+=s,c+=l,m+=u,g+=p},y.prototype.getCurvePercent=function(t,e){e=L.MathUtils.clamp(e,0,1);var n=this.curves,r=t*y.BEZIER_SIZE,a=n[r];if(a==y.LINEAR)return e;if(a==y.STEPPED)return 0;for(var i=0,o=++r,s=r+y.BEZIER_SIZE-1;r<s;r+=2)if(e<=(i=n[r])){var l=void 0,h=void 0;return(h=r==o?l=0:(l=n[r-2],n[r-1]))+(n[r+1]-h)*(e-l)/(i-l)}var c=n[r-1];return c+(1-c)*(e-i)/(1-i)},y.LINEAR=0,y.STEPPED=1,y.BEZIER=2,y.BEZIER_SIZE=19,y);function y(t){if(t<=0)throw new Error("frameCount must be > 0: "+t);this.curves=L.Utils.newFloatArray((t-1)*y.BEZIER_SIZE)}L.CurveTimeline=i;var o,s=(__extends(v,o=i),v.prototype.getPropertyId=function(){return(n.rotate<<24)+this.boneIndex},v.prototype.setFrame=function(t,e,n){t<<=1,this.frames[t]=e,this.frames[t+v.ROTATION]=n},v.prototype.apply=function(t,e,n,r,a,i,o){var s=this.frames,l=t.bones[this.boneIndex];if(l.active)if(n<s[0])switch(i){case Y.setup:return void(l.rotation=l.data.rotation);case Y.first:var h=l.data.rotation-l.rotation;l.rotation+=(h-360*(16384-(16384.499999999996-h/360|0)))*a}else if(n>=s[s.length-v.ENTRIES]){var c=s[s.length+v.PREV_ROTATION];switch(i){case Y.setup:l.rotation=l.data.rotation+c*a;break;case Y.first:case Y.replace:c+=l.data.rotation-l.rotation,c-=360*(16384-(16384.499999999996-c/360|0));case Y.add:l.rotation+=c*a}}else{var u=W.binarySearch(s,n,v.ENTRIES),p=s[u+v.PREV_ROTATION],d=s[u],f=this.getCurvePercent((u>>1)-1,1-(n-d)/(s[u+v.PREV_TIME]-d)),m=p+((m=s[u+v.ROTATION]-p)-360*(16384-(16384.499999999996-m/360|0)))*f;switch(i){case Y.setup:l.rotation=l.data.rotation+(m-360*(16384-(16384.499999999996-m/360|0)))*a;break;case Y.first:case Y.replace:m+=l.data.rotation-l.rotation;case Y.add:l.rotation+=(m-360*(16384-(16384.499999999996-m/360|0)))*a}}},v.ENTRIES=2,v.PREV_TIME=-2,v.PREV_ROTATION=-1,v.ROTATION=1,v);function v(t){var e=o.call(this,t)||this;return e.frames=L.Utils.newFloatArray(t<<1),e}L.RotateTimeline=s;var l,h=(__extends(f,l=i),f.prototype.getPropertyId=function(){return(n.translate<<24)+this.boneIndex},f.prototype.setFrame=function(t,e,n,r){t*=f.ENTRIES,this.frames[t]=e,this.frames[t+f.X]=n,this.frames[t+f.Y]=r},f.prototype.apply=function(t,e,n,r,a,i,o){var s=this.frames,l=t.bones[this.boneIndex];if(l.active)if(n<s[0])switch(i){case Y.setup:return l.x=l.data.x,void(l.y=l.data.y);case Y.first:l.x+=(l.data.x-l.x)*a,l.y+=(l.data.y-l.y)*a}else{var h,c,u,p=0,d=0;switch(n>=s[s.length-f.ENTRIES]?(p=s[s.length+f.PREV_X],d=s[s.length+f.PREV_Y]):(p=s[(h=W.binarySearch(s,n,f.ENTRIES))+f.PREV_X],d=s[h+f.PREV_Y],c=s[h],u=this.getCurvePercent(h/f.ENTRIES-1,1-(n-c)/(s[h+f.PREV_TIME]-c)),p+=(s[h+f.X]-p)*u,d+=(s[h+f.Y]-d)*u),i){case Y.setup:l.x=l.data.x+p*a,l.y=l.data.y+d*a;break;case Y.first:case Y.replace:l.x+=(l.data.x+p-l.x)*a,l.y+=(l.data.y+d-l.y)*a;break;case Y.add:l.x+=p*a,l.y+=d*a}}},f.ENTRIES=3,f.PREV_TIME=-3,f.PREV_X=-2,f.PREV_Y=-1,f.X=1,f.Y=2,f);function f(t){var e=l.call(this,t)||this;return e.frames=L.Utils.newFloatArray(t*f.ENTRIES),e}L.TranslateTimeline=h;var c,u=(__extends(x,c=h),x.prototype.getPropertyId=function(){return(n.scale<<24)+this.boneIndex},x.prototype.apply=function(t,e,n,r,a,i,o){var s=this.frames,l=t.bones[this.boneIndex];if(l.active)if(n<s[0])switch(i){case Y.setup:return l.scaleX=l.data.scaleX,void(l.scaleY=l.data.scaleY);case Y.first:l.scaleX+=(l.data.scaleX-l.scaleX)*a,l.scaleY+=(l.data.scaleY-l.scaleY)*a}else{var h,c,u,p=0,d=0;if(d=n>=s[s.length-x.ENTRIES]?(p=s[s.length+x.PREV_X]*l.data.scaleX,s[s.length+x.PREV_Y]*l.data.scaleY):(p=s[(h=W.binarySearch(s,n,x.ENTRIES))+x.PREV_X],d=s[h+x.PREV_Y],c=s[h],u=this.getCurvePercent(h/x.ENTRIES-1,1-(n-c)/(s[h+x.PREV_TIME]-c)),p=(p+(s[h+x.X]-p)*u)*l.data.scaleX,(d+(s[h+x.Y]-d)*u)*l.data.scaleY),1==a)i==Y.add?(l.scaleX+=p-l.data.scaleX,l.scaleY+=d-l.data.scaleY):(l.scaleX=p,l.scaleY=d);else{var f=0,m=0;if(o==g.mixOut)switch(i){case Y.setup:f=l.data.scaleX,m=l.data.scaleY,l.scaleX=f+(Math.abs(p)*L.MathUtils.signum(f)-f)*a,l.scaleY=m+(Math.abs(d)*L.MathUtils.signum(m)-m)*a;break;case Y.first:case Y.replace:f=l.scaleX,m=l.scaleY,l.scaleX=f+(Math.abs(p)*L.MathUtils.signum(f)-f)*a,l.scaleY=m+(Math.abs(d)*L.MathUtils.signum(m)-m)*a;break;case Y.add:f=l.scaleX,m=l.scaleY,l.scaleX=f+(Math.abs(p)*L.MathUtils.signum(f)-l.data.scaleX)*a,l.scaleY=m+(Math.abs(d)*L.MathUtils.signum(m)-l.data.scaleY)*a}else switch(i){case Y.setup:f=Math.abs(l.data.scaleX)*L.MathUtils.signum(p),m=Math.abs(l.data.scaleY)*L.MathUtils.signum(d),l.scaleX=f+(p-f)*a,l.scaleY=m+(d-m)*a;break;case Y.first:case Y.replace:f=Math.abs(l.scaleX)*L.MathUtils.signum(p),m=Math.abs(l.scaleY)*L.MathUtils.signum(d),l.scaleX=f+(p-f)*a,l.scaleY=m+(d-m)*a;break;case Y.add:f=L.MathUtils.signum(p),m=L.MathUtils.signum(d),l.scaleX=Math.abs(l.scaleX)*f+(p-Math.abs(l.data.scaleX)*f)*a,l.scaleY=Math.abs(l.scaleY)*m+(d-Math.abs(l.data.scaleY)*m)*a}}}},x);function x(t){return c.call(this,t)||this}L.ScaleTimeline=u;var p,d=(__extends(m,p=h),m.prototype.getPropertyId=function(){return(n.shear<<24)+this.boneIndex},m.prototype.apply=function(t,e,n,r,a,i,o){var s=this.frames,l=t.bones[this.boneIndex];if(l.active)if(n<s[0])switch(i){case Y.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case Y.first:l.shearX+=(l.data.shearX-l.shearX)*a,l.shearY+=(l.data.shearY-l.shearY)*a}else{var h,c,u,p=0,d=0;switch(n>=s[s.length-m.ENTRIES]?(p=s[s.length+m.PREV_X],d=s[s.length+m.PREV_Y]):(p=s[(h=W.binarySearch(s,n,m.ENTRIES))+m.PREV_X],d=s[h+m.PREV_Y],c=s[h],u=this.getCurvePercent(h/m.ENTRIES-1,1-(n-c)/(s[h+m.PREV_TIME]-c)),p+=(s[h+m.X]-p)*u,d+=(s[h+m.Y]-d)*u),i){case Y.setup:l.shearX=l.data.shearX+p*a,l.shearY=l.data.shearY+d*a;break;case Y.first:case Y.replace:l.shearX+=(l.data.shearX+p-l.shearX)*a,l.shearY+=(l.data.shearY+d-l.shearY)*a;break;case Y.add:l.shearX+=p*a,l.shearY+=d*a}}},m);function m(t){return p.call(this,t)||this}L.ShearTimeline=d;var M,w=(__extends(E,M=i),E.prototype.getPropertyId=function(){return(n.color<<24)+this.slotIndex},E.prototype.setFrame=function(t,e,n,r,a,i){t*=E.ENTRIES,this.frames[t]=e,this.frames[t+E.R]=n,this.frames[t+E.G]=r,this.frames[t+E.B]=a,this.frames[t+E.A]=i},E.prototype.apply=function(t,e,n,r,a,i,o){var s=t.slots[this.slotIndex];if(s.bone.active){var l=this.frames;if(n<l[0])switch(i){case Y.setup:return void s.color.setFromColor(s.data.color);case Y.first:var h=s.color,c=s.data.color;h.add((c.r-h.r)*a,(c.g-h.g)*a,(c.b-h.b)*a,(c.a-h.a)*a)}else{var u,p,d,f,m=0,g=0,v=0,y=0;n>=l[l.length-E.ENTRIES]?(m=l[(u=l.length)+E.PREV_R],g=l[u+E.PREV_G],v=l[u+E.PREV_B],y=l[u+E.PREV_A]):(m=l[(p=W.binarySearch(l,n,E.ENTRIES))+E.PREV_R],g=l[p+E.PREV_G],v=l[p+E.PREV_B],y=l[p+E.PREV_A],d=l[p],f=this.getCurvePercent(p/E.ENTRIES-1,1-(n-d)/(l[p+E.PREV_TIME]-d)),m+=(l[p+E.R]-m)*f,g+=(l[p+E.G]-g)*f,v+=(l[p+E.B]-v)*f,y+=(l[p+E.A]-y)*f),1==a?s.color.set(m,g,v,y):(h=s.color,i==Y.setup&&h.setFromColor(s.data.color),h.add((m-h.r)*a,(g-h.g)*a,(v-h.b)*a,(y-h.a)*a))}}},E.ENTRIES=5,E.PREV_TIME=-5,E.PREV_R=-4,E.PREV_G=-3,E.PREV_B=-2,E.PREV_A=-1,E.R=1,E.G=2,E.B=3,E.A=4,E);function E(t){var e=M.call(this,t)||this;return e.frames=L.Utils.newFloatArray(t*E.ENTRIES),e}L.ColorTimeline=w;var T,b=(__extends(S,T=i),S.prototype.getPropertyId=function(){return(n.twoColor<<24)+this.slotIndex},S.prototype.setFrame=function(t,e,n,r,a,i,o,s,l){t*=S.ENTRIES,this.frames[t]=e,this.frames[t+S.R]=n,this.frames[t+S.G]=r,this.frames[t+S.B]=a,this.frames[t+S.A]=i,this.frames[t+S.R2]=o,this.frames[t+S.G2]=s,this.frames[t+S.B2]=l},S.prototype.apply=function(t,e,n,r,a,i,o){var s=t.slots[this.slotIndex];if(s.bone.active){var l=this.frames;if(n<l[0])switch(i){case Y.setup:return s.color.setFromColor(s.data.color),void s.darkColor.setFromColor(s.data.darkColor);case Y.first:var h=s.color,c=s.darkColor,u=s.data.color,p=s.data.darkColor;h.add((u.r-h.r)*a,(u.g-h.g)*a,(u.b-h.b)*a,(u.a-h.a)*a),c.add((p.r-c.r)*a,(p.g-c.g)*a,(p.b-c.b)*a,0)}else{var d,f,m,g,v=0,y=0,x=0,M=0,w=0,E=0,T=0;n>=l[l.length-S.ENTRIES]?(v=l[(d=l.length)+S.PREV_R],y=l[d+S.PREV_G],x=l[d+S.PREV_B],M=l[d+S.PREV_A],w=l[d+S.PREV_R2],E=l[d+S.PREV_G2],T=l[d+S.PREV_B2]):(v=l[(f=W.binarySearch(l,n,S.ENTRIES))+S.PREV_R],y=l[f+S.PREV_G],x=l[f+S.PREV_B],M=l[f+S.PREV_A],w=l[f+S.PREV_R2],E=l[f+S.PREV_G2],T=l[f+S.PREV_B2],m=l[f],g=this.getCurvePercent(f/S.ENTRIES-1,1-(n-m)/(l[f+S.PREV_TIME]-m)),v+=(l[f+S.R]-v)*g,y+=(l[f+S.G]-y)*g,x+=(l[f+S.B]-x)*g,M+=(l[f+S.A]-M)*g,w+=(l[f+S.R2]-w)*g,E+=(l[f+S.G2]-E)*g,T+=(l[f+S.B2]-T)*g),1==a?(s.color.set(v,y,x,M),s.darkColor.set(w,E,T,1)):(h=s.color,c=s.darkColor,i==Y.setup&&(h.setFromColor(s.data.color),c.setFromColor(s.data.darkColor)),h.add((v-h.r)*a,(y-h.g)*a,(x-h.b)*a,(M-h.a)*a),c.add((w-c.r)*a,(E-c.g)*a,(T-c.b)*a,0))}}},S.ENTRIES=8,S.PREV_TIME=-8,S.PREV_R=-7,S.PREV_G=-6,S.PREV_B=-5,S.PREV_A=-4,S.PREV_R2=-3,S.PREV_G2=-2,S.PREV_B2=-1,S.R=1,S.G=2,S.B=3,S.A=4,S.R2=5,S.G2=6,S.B2=7,S);function S(t){var e=T.call(this,t)||this;return e.frames=L.Utils.newFloatArray(t*S.ENTRIES),e}L.TwoColorTimeline=b;var I=(A.prototype.getPropertyId=function(){return(n.attachment<<24)+this.slotIndex},A.prototype.getFrameCount=function(){return this.frames.length},A.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},A.prototype.apply=function(t,e,n,r,a,i,o){var s,l,h,c,u,p=t.slots[this.slotIndex];p.bone.active&&(o!=g.mixOut||i!=Y.setup?n<(s=this.frames)[0]?i!=Y.setup&&i!=Y.first||(l=p.data.attachmentName,p.setAttachment(null==l?null:t.getAttachment(this.slotIndex,l))):(h=0,h=n>=s[s.length-1]?s.length-1:W.binarySearch(s,n,1)-1,c=this.attachmentNames[h],t.slots[this.slotIndex].setAttachment(null==c?null:t.getAttachment(this.slotIndex,c))):(u=p.data.attachmentName,p.setAttachment(null==u?null:t.getAttachment(this.slotIndex,u))))},A);function A(t){this.frames=L.Utils.newFloatArray(t),this.attachmentNames=new Array(t)}L.AttachmentTimeline=I;var R,C=null,P=(__extends(k,R=i),k.prototype.getPropertyId=function(){return(n.deform<<27)+ +this.attachment.id+this.slotIndex},k.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n},k.prototype.apply=function(t,e,n,r,a,i,o){var s=t.slots[this.slotIndex];if(s.bone.active){var l=s.getAttachment();if(l instanceof L.VertexAttachment&&l.deformAttachment==this.attachment){var h=s.deform;0==h.length&&(i=Y.setup);var c=this.frameVertices,u=c[0].length,p=this.frames;if(n<p[0]){var d=l;switch(i){case Y.setup:return void(h.length=0);case Y.first:if(1==a){h.length=0;break}var f=L.Utils.setArraySize(h,u);if(null==d.bones)for(var m=d.vertices,g=0;g<u;g++)f[g]+=(m[g]-f[g])*a;else for(a=1-a,g=0;g<u;g++)f[g]*=a}}else{var v=L.Utils.setArraySize(h,u);if(n>=p[p.length-1]){var y=c[p.length-1];if(1==a)if(i==Y.add)if(null==(d=l).bones)for(var m=d.vertices,x=0;x<u;x++)v[x]+=y[x]-m[x];else for(var M=0;M<u;M++)v[M]+=y[M];else L.Utils.arrayCopy(y,0,v,0,u);else switch(i){case Y.setup:if(null==l.bones)for(var m=l.vertices,w=0;w<u;w++){var E=m[w];v[w]=E+(y[w]-E)*a}else for(var T=0;T<u;T++)v[T]=y[T]*a;break;case Y.first:case Y.replace:for(var b=0;b<u;b++)v[b]+=(y[b]-v[b])*a;break;case Y.add:if(null==(d=l).bones)for(var m=d.vertices,S=0;S<u;S++)v[S]+=(y[S]-m[S])*a;else for(var I=0;I<u;I++)v[I]+=y[I]*a}}else{var A=W.binarySearch(p,n),R=c[A-1],C=c[A],P=p[A],k=this.getCurvePercent(A-1,1-(n-P)/(p[A-1]-P));if(1==a)if(i==Y.add)if(null==(d=l).bones)for(var m=d.vertices,V=0;V<u;V++){var _=R[V];v[V]+=_+(C[V]-_)*k-m[V]}else for(var N=0;N<u;N++)_=R[N],v[N]+=_+(C[N]-_)*k;else for(var F=0;F<u;F++)_=R[F],v[F]=_+(C[F]-_)*k;else switch(i){case Y.setup:if(null==l.bones)for(var m=l.vertices,O=0;O<u;O++)_=R[O],E=m[O],v[O]=E+(_+(C[O]-_)*k-E)*a;else for(var D=0;D<u;D++)_=R[D],v[D]=(_+(C[D]-_)*k)*a;break;case Y.first:case Y.replace:for(var U=0;U<u;U++)_=R[U],v[U]+=(_+(C[U]-_)*k-v[U])*a;break;case Y.add:if(null==(d=l).bones)for(var m=d.vertices,X=0;X<u;X++)_=R[X],v[X]+=(_+(C[X]-_)*k-m[X])*a;else for(var B=0;B<u;B++)_=R[B],v[B]+=(_+(C[B]-_)*k)*a}}}}}},k);function k(t){var e=R.call(this,t)||this;return e.frames=L.Utils.newFloatArray(t),e.frameVertices=new Array(t),null==C&&(C=L.Utils.newFloatArray(64)),e}L.DeformTimeline=P;var V=(_.prototype.getPropertyId=function(){return n.event<<24},_.prototype.getFrameCount=function(){return this.frames.length},_.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},_.prototype.apply=function(t,e,n,r,a,i,o){if(null!=r){var s=this.frames,l=this.frames.length;if(n<e)this.apply(t,e,Number.MAX_VALUE,r,a,i,o),e=-1;else if(e>=s[l-1])return;if(!(n<s[0])){var h=0;if(e<s[0])h=0;else for(var c=s[h=W.binarySearch(s,e)];0<h&&s[h-1]==c;)h--;for(;h<l&&n>=s[h];h++)r.push(this.events[h])}}},_);function _(t){this.frames=L.Utils.newFloatArray(t),this.events=new Array(t)}L.EventTimeline=V;var N=(F.prototype.getPropertyId=function(){return n.drawOrder<<24},F.prototype.getFrameCount=function(){return this.frames.length},F.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},F.prototype.apply=function(t,e,n,r,a,i,o){var s=t.drawOrder,l=t.slots;if(o!=g.mixOut||i!=Y.setup){var h=this.frames;if(n<h[0])i!=Y.setup&&i!=Y.first||L.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var c=0,c=n>=h[h.length-1]?h.length-1:W.binarySearch(h,n)-1,u=this.drawOrders[c];if(null==u)L.Utils.arrayCopy(l,0,s,0,l.length);else for(var p=0,d=u.length;p<d;p++)s[p]=l[u[p]]}}else L.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)},F);function F(t){this.frames=L.Utils.newFloatArray(t),this.drawOrders=new Array(t)}L.DrawOrderTimeline=N;var O,D=(__extends(U,O=i),U.prototype.getPropertyId=function(){return(n.ikConstraint<<24)+this.ikConstraintIndex},U.prototype.setFrame=function(t,e,n,r,a,i,o){t*=U.ENTRIES,this.frames[t]=e,this.frames[t+U.MIX]=n,this.frames[t+U.SOFTNESS]=r,this.frames[t+U.BEND_DIRECTION]=a,this.frames[t+U.COMPRESS]=i?1:0,this.frames[t+U.STRETCH]=o?1:0},U.prototype.apply=function(t,e,n,r,a,i,o){var s,l,h,c,u,p=this.frames,d=t.ikConstraints[this.ikConstraintIndex];if(d.active)if(n<p[0])switch(i){case Y.setup:return d.mix=d.data.mix,d.softness=d.data.softness,d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,void(d.stretch=d.data.stretch);case Y.first:d.mix+=(d.data.mix-d.mix)*a,d.softness+=(d.data.softness-d.softness)*a,d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch}else n>=p[p.length-U.ENTRIES]?i==Y.setup?(d.mix=d.data.mix+(p[p.length+U.PREV_MIX]-d.data.mix)*a,d.softness=d.data.softness+(p[p.length+U.PREV_SOFTNESS]-d.data.softness)*a,o==g.mixOut?(d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch):(d.bendDirection=p[p.length+U.PREV_BEND_DIRECTION],d.compress=0!=p[p.length+U.PREV_COMPRESS],d.stretch=0!=p[p.length+U.PREV_STRETCH])):(d.mix+=(p[p.length+U.PREV_MIX]-d.mix)*a,d.softness+=(p[p.length+U.PREV_SOFTNESS]-d.softness)*a,o==g.mixIn&&(d.bendDirection=p[p.length+U.PREV_BEND_DIRECTION],d.compress=0!=p[p.length+U.PREV_COMPRESS],d.stretch=0!=p[p.length+U.PREV_STRETCH])):(l=p[(s=W.binarySearch(p,n,U.ENTRIES))+U.PREV_MIX],h=p[s+U.PREV_SOFTNESS],c=p[s],u=this.getCurvePercent(s/U.ENTRIES-1,1-(n-c)/(p[s+U.PREV_TIME]-c)),i==Y.setup?(d.mix=d.data.mix+(l+(p[s+U.MIX]-l)*u-d.data.mix)*a,d.softness=d.data.softness+(h+(p[s+U.SOFTNESS]-h)*u-d.data.softness)*a,o==g.mixOut?(d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch):(d.bendDirection=p[s+U.PREV_BEND_DIRECTION],d.compress=0!=p[s+U.PREV_COMPRESS],d.stretch=0!=p[s+U.PREV_STRETCH])):(d.mix+=(l+(p[s+U.MIX]-l)*u-d.mix)*a,d.softness+=(h+(p[s+U.SOFTNESS]-h)*u-d.softness)*a,o==g.mixIn&&(d.bendDirection=p[s+U.PREV_BEND_DIRECTION],d.compress=0!=p[s+U.PREV_COMPRESS],d.stretch=0!=p[s+U.PREV_STRETCH])))},U.ENTRIES=6,U.PREV_TIME=-6,U.PREV_MIX=-5,U.PREV_SOFTNESS=-4,U.PREV_BEND_DIRECTION=-3,U.PREV_COMPRESS=-2,U.PREV_STRETCH=-1,U.MIX=1,U.SOFTNESS=2,U.BEND_DIRECTION=3,U.COMPRESS=4,U.STRETCH=5,U);function U(t){var e=O.call(this,t)||this;return e.frames=L.Utils.newFloatArray(t*U.ENTRIES),e}L.IkConstraintTimeline=D;var X,B=(__extends(q,X=i),q.prototype.getPropertyId=function(){return(n.transformConstraint<<24)+this.transformConstraintIndex},q.prototype.setFrame=function(t,e,n,r,a,i){t*=q.ENTRIES,this.frames[t]=e,this.frames[t+q.ROTATE]=n,this.frames[t+q.TRANSLATE]=r,this.frames[t+q.SCALE]=a,this.frames[t+q.SHEAR]=i},q.prototype.apply=function(t,e,n,r,a,i,o){var s=this.frames,l=t.transformConstraints[this.transformConstraintIndex];if(l.active)if(n<s[0]){var h=l.data;switch(i){case Y.setup:return l.rotateMix=h.rotateMix,l.translateMix=h.translateMix,l.scaleMix=h.scaleMix,void(l.shearMix=h.shearMix);case Y.first:l.rotateMix+=(h.rotateMix-l.rotateMix)*a,l.translateMix+=(h.translateMix-l.translateMix)*a,l.scaleMix+=(h.scaleMix-l.scaleMix)*a,l.shearMix+=(h.shearMix-l.shearMix)*a}}else{var c,u,p,d,f=0,m=0,g=0,v=0;n>=s[s.length-q.ENTRIES]?(f=s[(c=s.length)+q.PREV_ROTATE],m=s[c+q.PREV_TRANSLATE],g=s[c+q.PREV_SCALE],v=s[c+q.PREV_SHEAR]):(f=s[(u=W.binarySearch(s,n,q.ENTRIES))+q.PREV_ROTATE],m=s[u+q.PREV_TRANSLATE],g=s[u+q.PREV_SCALE],v=s[u+q.PREV_SHEAR],p=s[u],d=this.getCurvePercent(u/q.ENTRIES-1,1-(n-p)/(s[u+q.PREV_TIME]-p)),f+=(s[u+q.ROTATE]-f)*d,m+=(s[u+q.TRANSLATE]-m)*d,g+=(s[u+q.SCALE]-g)*d,v+=(s[u+q.SHEAR]-v)*d),i==Y.setup?(h=l.data,l.rotateMix=h.rotateMix+(f-h.rotateMix)*a,l.translateMix=h.translateMix+(m-h.translateMix)*a,l.scaleMix=h.scaleMix+(g-h.scaleMix)*a,l.shearMix=h.shearMix+(v-h.shearMix)*a):(l.rotateMix+=(f-l.rotateMix)*a,l.translateMix+=(m-l.translateMix)*a,l.scaleMix+=(g-l.scaleMix)*a,l.shearMix+=(v-l.shearMix)*a)}},q.ENTRIES=5,q.PREV_TIME=-5,q.PREV_ROTATE=-4,q.PREV_TRANSLATE=-3,q.PREV_SCALE=-2,q.PREV_SHEAR=-1,q.ROTATE=1,q.TRANSLATE=2,q.SCALE=3,q.SHEAR=4,q);function q(t){var e=X.call(this,t)||this;return e.frames=L.Utils.newFloatArray(t*q.ENTRIES),e}L.TransformConstraintTimeline=B;var H,G=(__extends(j,H=i),j.prototype.getPropertyId=function(){return(n.pathConstraintPosition<<24)+this.pathConstraintIndex},j.prototype.setFrame=function(t,e,n){t*=j.ENTRIES,this.frames[t]=e,this.frames[t+j.VALUE]=n},j.prototype.apply=function(t,e,n,r,a,i,o){var s=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<s[0])switch(i){case Y.setup:return void(l.position=l.data.position);case Y.first:l.position+=(l.data.position-l.position)*a}else{var h,c,u,p=0;n>=s[s.length-j.ENTRIES]?p=s[s.length+j.PREV_VALUE]:(p=s[(h=W.binarySearch(s,n,j.ENTRIES))+j.PREV_VALUE],c=s[h],u=this.getCurvePercent(h/j.ENTRIES-1,1-(n-c)/(s[h+j.PREV_TIME]-c)),p+=(s[h+j.VALUE]-p)*u),i==Y.setup?l.position=l.data.position+(p-l.data.position)*a:l.position+=(p-l.position)*a}},j.ENTRIES=2,j.PREV_TIME=-2,j.PREV_VALUE=-1,j.VALUE=1,j);function j(t){var e=H.call(this,t)||this;return e.frames=L.Utils.newFloatArray(t*j.ENTRIES),e}L.PathConstraintPositionTimeline=G;var z,Z=(__extends(J,z=G),J.prototype.getPropertyId=function(){return(n.pathConstraintSpacing<<24)+this.pathConstraintIndex},J.prototype.apply=function(t,e,n,r,a,i,o){var s=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<s[0])switch(i){case Y.setup:return void(l.spacing=l.data.spacing);case Y.first:l.spacing+=(l.data.spacing-l.spacing)*a}else{var h,c,u,p=0;n>=s[s.length-J.ENTRIES]?p=s[s.length+J.PREV_VALUE]:(p=s[(h=W.binarySearch(s,n,J.ENTRIES))+J.PREV_VALUE],c=s[h],u=this.getCurvePercent(h/J.ENTRIES-1,1-(n-c)/(s[h+J.PREV_TIME]-c)),p+=(s[h+J.VALUE]-p)*u),i==Y.setup?l.spacing=l.data.spacing+(p-l.data.spacing)*a:l.spacing+=(p-l.spacing)*a}},J);function J(t){return z.call(this,t)||this}L.PathConstraintSpacingTimeline=Z;var K,Q=(__extends($,K=i),$.prototype.getPropertyId=function(){return(n.pathConstraintMix<<24)+this.pathConstraintIndex},$.prototype.setFrame=function(t,e,n,r){t*=$.ENTRIES,this.frames[t]=e,this.frames[t+$.ROTATE]=n,this.frames[t+$.TRANSLATE]=r},$.prototype.apply=function(t,e,n,r,a,i,o){var s=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<s[0])switch(i){case Y.setup:return l.rotateMix=l.data.rotateMix,void(l.translateMix=l.data.translateMix);case Y.first:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*a,l.translateMix+=(l.data.translateMix-l.translateMix)*a}else{var h,c,u,p=0,d=0;n>=s[s.length-$.ENTRIES]?(p=s[s.length+$.PREV_ROTATE],d=s[s.length+$.PREV_TRANSLATE]):(p=s[(h=W.binarySearch(s,n,$.ENTRIES))+$.PREV_ROTATE],d=s[h+$.PREV_TRANSLATE],c=s[h],u=this.getCurvePercent(h/$.ENTRIES-1,1-(n-c)/(s[h+$.PREV_TIME]-c)),p+=(s[h+$.ROTATE]-p)*u,d+=(s[h+$.TRANSLATE]-d)*u),i==Y.setup?(l.rotateMix=l.data.rotateMix+(p-l.data.rotateMix)*a,l.translateMix=l.data.translateMix+(d-l.data.translateMix)*a):(l.rotateMix+=(p-l.rotateMix)*a,l.translateMix+=(d-l.translateMix)*a)}},$.ENTRIES=3,$.PREV_TIME=-3,$.PREV_ROTATE=-2,$.PREV_TRANSLATE=-1,$.ROTATE=1,$.TRANSLATE=2,$);function $(t){var e=K.call(this,t)||this;return e.frames=L.Utils.newFloatArray(t*$.ENTRIES),e}L.PathConstraintMixTimeline=Q}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){!function(b){var t=(S.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,n=0,r=e.length;n<r;n++){var a=e[n];if(null!=a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var i=t*a.timeScale;if(0<a.delay){if(a.delay-=i,0<a.delay)continue;i=-a.delay,a.delay=0}var o=a.next;if(null!=o){var s=a.trackLast-o.delay;if(0<=s){for(o.delay=0,o.trackTime+=0==a.timeScale?0:(s/a.timeScale+t)*o.timeScale,a.trackTime+=i,this.setCurrent(n,o,!0);null!=o.mixingFrom;)o.mixTime+=t,o=o.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&null==a.mixingFrom){e[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(null!=a.mixingFrom&&this.updateMixingFrom(a,t)){var l=a.mixingFrom;for((a.mixingFrom=null)!=l&&(l.mixingTo=null);null!=l;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=i}}this.queue.drain()},S.prototype.updateMixingFrom=function(t,e){var n=t.mixingFrom;if(null==n)return!0;var r=this.updateMixingFrom(n,e);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,0<t.mixTime&&t.mixTime>=t.mixDuration?(0!=n.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=n.mixingFrom,null!=n.mixingFrom&&(n.mixingFrom.mixingTo=t),t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),r):(n.trackTime+=e*n.timeScale,t.mixTime+=e,!1)},S.prototype.apply=function(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,n=this.tracks,r=!1,a=0,i=n.length;a<i;a++){var o=n[a];if(!(null==o||0<o.delay)){r=!0;var s=0==a?b.MixBlend.first:o.mixBlend,l=o.alpha;null!=o.mixingFrom?l*=this.applyMixingFrom(o,t,s):o.trackTime>=o.trackEnd&&null==o.next&&(l=0);var h=o.animationLast,c=o.getAnimationTime(),u=o.animation.timelines.length,p=o.animation.timelines;if(0==a&&1==l||s==b.MixBlend.add)for(var d=0;d<u;d++)b.Utils.webkit602BugfixHelper(l,s),p[d].apply(t,h,c,e,l,s,b.MixDirection.mixIn);else{var f=o.timelineMode,m=0==o.timelinesRotation.length;m&&b.Utils.setArraySize(o.timelinesRotation,u<<1,null);for(var g=o.timelinesRotation,d=0;d<u;d++){var v=p[d],y=(f[d]&S.NOT_LAST-1)==S.SUBSEQUENT?s:b.MixBlend.setup;v instanceof b.RotateTimeline?this.applyRotateTimeline(v,t,c,l,y,g,d<<1,m):(b.Utils.webkit602BugfixHelper(l,s),v.apply(t,h,c,e,l,y,b.MixDirection.mixIn))}}this.queueEvents(o,c),e.length=0,o.nextAnimationLast=c,o.nextTrackLast=o.trackTime}}return this.queue.drain(),r},S.prototype.applyMixingFrom=function(t,e,n){var r=t.mixingFrom;null!=r.mixingFrom&&this.applyMixingFrom(r,e,n);var a=0;0==t.mixDuration?(a=1,n==b.MixBlend.first&&(n=b.MixBlend.setup)):(1<(a=t.mixTime/t.mixDuration)&&(a=1),n!=b.MixBlend.first&&(n=r.mixBlend));var i=a<r.eventThreshold?this.events:null,o=a<r.attachmentThreshold,s=a<r.drawOrderThreshold,l=r.animationLast,h=r.getAnimationTime(),c=r.animation.timelines.length,u=r.animation.timelines,p=r.alpha*t.interruptAlpha,d=p*(1-a);if(n==b.MixBlend.add)for(var f=0;f<c;f++)u[f].apply(e,l,h,i,d,n,b.MixDirection.mixOut);else{var m=r.timelineMode,g=r.timelineHoldMix,v=0==r.timelinesRotation.length;v&&b.Utils.setArraySize(r.timelinesRotation,c<<1,null);for(var y=r.timelinesRotation,f=r.totalAlpha=0;f<c;f++){var x=u[f],M=b.MixDirection.mixOut,w=void 0,E=0;switch(m[f]&S.NOT_LAST-1){case S.SUBSEQUENT:if(w=n,!o&&x instanceof b.AttachmentTimeline){if((m[f]&S.NOT_LAST)==S.NOT_LAST)continue;w=b.MixBlend.setup}if(!s&&x instanceof b.DrawOrderTimeline)continue;E=d;break;case S.FIRST:w=b.MixBlend.setup,E=d;break;case S.HOLD:w=b.MixBlend.setup,E=p;break;default:w=b.MixBlend.setup;var T=g[f],E=p*Math.max(0,1-T.mixTime/T.mixDuration)}r.totalAlpha+=E,x instanceof b.RotateTimeline?this.applyRotateTimeline(x,e,h,E,w,y,f<<1,v):(b.Utils.webkit602BugfixHelper(E,n),w==b.MixBlend.setup&&(x instanceof b.AttachmentTimeline?!o&&(m[f]&S.NOT_LAST)!=S.NOT_LAST||(M=b.MixDirection.mixIn):x instanceof b.DrawOrderTimeline&&s&&(M=b.MixDirection.mixIn)),x.apply(e,l,h,i,E,w,M))}}return 0<t.mixDuration&&this.queueEvents(r,h),this.events.length=0,r.nextAnimationLast=h,r.nextTrackLast=r.trackTime,a},S.prototype.applyRotateTimeline=function(t,e,n,r,a,i,o,s){if(s&&(i[o]=0),1!=r){var l=t,h=l.frames,c=e.bones[l.boneIndex];if(c.active){var u=0,p=0;if(n<h[0])switch(a){case b.MixBlend.setup:c.rotation=c.data.rotation;default:return;case b.MixBlend.first:u=c.rotation,p=c.data.rotation}else{var d,f,m,g,u=a==b.MixBlend.setup?c.data.rotation:c.rotation;n>=h[h.length-b.RotateTimeline.ENTRIES]?p=c.data.rotation+h[h.length+b.RotateTimeline.PREV_ROTATION]:(f=h[(d=b.Animation.binarySearch(h,n,b.RotateTimeline.ENTRIES))+b.RotateTimeline.PREV_ROTATION],m=h[d],g=l.getCurvePercent((d>>1)-1,1-(n-m)/(h[d+b.RotateTimeline.PREV_TIME]-m)),p=h[d+b.RotateTimeline.ROTATION]-f,p=f+(p-=360*(16384-(16384.499999999996-p/360|0)))*g+c.data.rotation,p-=360*(16384-(16384.499999999996-p/360|0)))}var v,y,x,M,w=0,E=p-u;0==(E-=360*(16384-(16384.499999999996-E/360|0)))?w=i[o]:(y=v=0,y=s?(v=0,E):(v=i[o],i[o+1]),x=0<E,M=0<=v,b.MathUtils.signum(y)!=b.MathUtils.signum(E)&&Math.abs(y)<=90&&(180<Math.abs(v)&&(v+=360*b.MathUtils.signum(v)),M=x),w=E+v-v%360,M!=x&&(w+=360*b.MathUtils.signum(v)),i[o]=w),i[o+1]=E,u+=w*r,c.rotation=u-360*(16384-(16384.499999999996-u/360|0))}}else t.apply(e,0,n,null,1,a,b.MixDirection.mixIn)},S.prototype.queueEvents=function(t,e){for(var n=t.animationStart,r=t.animationEnd,a=r-n,i=t.trackLast%a,o=this.events,s=0,l=o.length;s<l;s++){var h=o[s];if(h.time<i)break;h.time>r||this.queue.event(t,h)}for((t.loop?0==a||i>t.trackTime%a:r<=e&&t.animationLast<r)&&this.queue.complete(t);s<l;s++)o[s].time<n||this.queue.event(t,o[s])},S.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},S.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var n=e;;){var r=n.mixingFrom;if(null==r)break;this.queue.end(r),n.mixingFrom=null,n.mixingTo=null,n=r}this.tracks[e.trackIndex]=null,this.queue.drain()}}},S.prototype.setCurrent=function(t,e,n){var r=this.expandToIndex(t);this.tracks[t]=e,null!=r&&(n&&this.queue.interrupt(r),((e.mixingFrom=r).mixingTo=e).mixTime=0,null!=r.mixingFrom&&0<r.mixDuration&&(e.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(e)},S.prototype.setAnimation=function(t,e,n){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,r,n)},S.prototype.setAnimationWith=function(t,e,n){if(null==e)throw new Error("animation cannot be null.");var r=!0,a=this.expandToIndex(t);null!=a&&(-1==a.nextTrackLast?(this.tracks[t]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,r=!1):this.disposeNext(a));var i=this.trackEntry(t,e,n,a);return this.setCurrent(t,i,r),this.queue.drain(),i},S.prototype.addAnimation=function(t,e,n,r){var a=this.data.skeletonData.findAnimation(e);if(null==a)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,a,n,r)},S.prototype.addAnimationWith=function(t,e,n,r){if(null==e)throw new Error("animation cannot be null.");var a=this.expandToIndex(t);if(null!=a)for(;null!=a.next;)a=a.next;var i,o=this.trackEntry(t,e,n,a);return null==a?(this.setCurrent(t,o,!0),this.queue.drain()):(a.next=o,r<=0&&(0!=(i=a.animationEnd-a.animationStart)?(a.loop?r+=i*(1+(a.trackTime/i|0)):r+=Math.max(i,a.trackTime),r-=this.data.getMix(a.animation,e)):r=a.trackTime)),o.delay=r,o},S.prototype.setEmptyAnimation=function(t,e){var n=this.setAnimationWith(t,S.emptyAnimation,!1);return n.mixDuration=e,n.trackEnd=e,n},S.prototype.addEmptyAnimation=function(t,e,n){n<=0&&(n-=e);var r=this.addAnimationWith(t,S.emptyAnimation,!1,n);return r.mixDuration=e,r.trackEnd=e,r},S.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var a=this.tracks[n];null!=a&&this.setEmptyAnimation(a.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},S.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(b.Utils.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)},S.prototype.trackEntry=function(t,e,n,r){var a=this.trackEntryPool.obtain();return a.trackIndex=t,a.animation=e,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=e.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=null==r?0:this.data.getMix(r.animation,e),a.mixBlend=b.MixBlend.replace,a},S.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},S.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++)if(null!=(n=this.tracks[t])){for(;null!=n.mixingFrom;)n=n.mixingFrom;for(;null!=n.mixingFrom&&n.mixBlend==b.MixBlend.add||this.computeHold(n),null!=(n=n.mixingTo););}for(this.propertyIDs.clear(),t=this.tracks.length-1;0<=t;t--)for(var n=this.tracks[t];null!=n;)this.computeNotLast(n),n=n.mixingFrom},S.prototype.computeHold=function(t){var e=t.mixingTo,n=t.animation.timelines,r=t.animation.timelines.length,a=b.Utils.setArraySize(t.timelineMode,r);t.timelineHoldMix.length=0;var i=b.Utils.setArraySize(t.timelineHoldMix,r),o=this.propertyIDs;if(null!=e&&e.holdPrevious)for(var s=0;s<r;s++)o.add(n[s].getPropertyId()),a[s]=S.HOLD;else t:for(s=0;s<r;s++){var l=n[s],h=l.getPropertyId();if(o.add(h))if(null==e||l instanceof b.AttachmentTimeline||l instanceof b.DrawOrderTimeline||l instanceof b.EventTimeline||!e.animation.hasTimeline(h))a[s]=S.FIRST;else{for(var c=e.mixingTo;null!=c;c=c.mixingTo)if(!c.animation.hasTimeline(h)){if(0<t.mixDuration){a[s]=S.HOLD_MIX,i[s]=c;continue t}break}a[s]=S.HOLD}else a[s]=S.SUBSEQUENT}},S.prototype.computeNotLast=function(t){for(var e,n=t.animation.timelines,r=t.animation.timelines.length,a=t.timelineMode,i=this.propertyIDs,o=0;o<r;o++)n[o]instanceof b.AttachmentTimeline&&(e=n[o],i.add(e.slotIndex)||(a[o]|=S.NOT_LAST))},S.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},S.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},S.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);0<=e&&this.listeners.splice(e,1)},S.prototype.clearListeners=function(){this.listeners.length=0},S.prototype.clearListenerNotifications=function(){this.queue.clear()},S.prototype.setAnimationByName=function(t,e,n){S.deprecatedWarning1||(S.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,e,n)},S.prototype.addAnimationByName=function(t,e,n,r){S.deprecatedWarning2||(S.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,e,n,r)},S.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},S.prototype.hasAnimationByName=function(t){return S.deprecatedWarning3||(S.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)},S.emptyAnimation=new b.Animation("<empty>",[],0),S.SUBSEQUENT=0,S.FIRST=1,S.HOLD=2,S.HOLD_MIX=3,S.NOT_LAST=4,S.deprecatedWarning1=!1,S.deprecatedWarning2=!1,S.deprecatedWarning3=!1,S);function S(t){this.tracks=new Array,this.timeScale=1,this.events=new Array,this.listeners=new Array,this.queue=new a(this),this.propertyIDs=new b.IntSet,this.animationsChanged=!1,this.trackEntryPool=new b.Pool(function(){return new e}),this.data=t}b.AnimationState=t;var e=(n.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},n.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},n.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},n.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},n.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(n.prototype,"time",{get:function(){return n.deprecatedWarning1||(n.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(t){n.deprecatedWarning1||(n.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"endTime",{get:function(){return n.deprecatedWarning2||(n.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(t){n.deprecatedWarning2||(n.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t},enumerable:!0,configurable:!0}),n.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},n.deprecatedWarning1=!1,n.deprecatedWarning2=!1,n);function n(){this.mixBlend=b.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}b.TrackEntry=e;var l,r,a=(i.prototype.start=function(t){this.objects.push(l.start),this.objects.push(t),this.animState.animationsChanged=!0},i.prototype.interrupt=function(t){this.objects.push(l.interrupt),this.objects.push(t)},i.prototype.end=function(t){this.objects.push(l.end),this.objects.push(t),this.animState.animationsChanged=!0},i.prototype.dispose=function(t){this.objects.push(l.dispose),this.objects.push(t)},i.prototype.complete=function(t){this.objects.push(l.complete),this.objects.push(t)},i.prototype.event=function(t,e){this.objects.push(l.event),this.objects.push(t),this.objects.push(e)},i.prototype.deprecateStuff=function(){return i.deprecatedWarning1||(i.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},i.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,n=0;n<t.length;n+=2){var r=t[n],a=t[n+1];switch(r){case l.start:null!=a.listener&&a.listener.start&&a.listener.start(a);for(var i=0;i<e.length;i++)e[i].start&&e[i].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case l.interrupt:for(null!=a.listener&&a.listener.interrupt&&a.listener.interrupt(a),i=0;i<e.length;i++)e[i].interrupt&&e[i].interrupt(a);break;case l.end:for(null!=a.listener&&a.listener.end&&a.listener.end(a),i=0;i<e.length;i++)e[i].end&&e[i].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case l.dispose:for(null!=a.listener&&a.listener.dispose&&a.listener.dispose(a),i=0;i<e.length;i++)e[i].dispose&&e[i].dispose(a);this.animState.trackEntryPool.free(a);break;case l.complete:for(null!=a.listener&&a.listener.complete&&a.listener.complete(a),i=0;i<e.length;i++)e[i].complete&&e[i].complete(a);var o=b.MathUtils.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,o),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,o);break;case l.event:var s=t[2+n++];for(null!=a.listener&&a.listener.event&&a.listener.event(a,s),i=0;i<e.length;i++)e[i].event&&e[i].event(a,s);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,s),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,s)}}this.clear(),this.drainDisabled=!1}},i.prototype.clear=function(){this.objects.length=0},i.deprecatedWarning1=!1,i);function i(t){this.objects=[],this.drainDisabled=!1,this.animState=t}b.EventQueue=a,(r=l=b.EventType||(b.EventType={}))[r.start=0]="start",r[r.interrupt=1]="interrupt",r[r.end=2]="end",r[r.dispose=3]="dispose",r[r.complete=4]="complete",r[r.event=5]="event";var o=(s.prototype.start=function(t){},s.prototype.interrupt=function(t){},s.prototype.end=function(t){},s.prototype.dispose=function(t){},s.prototype.complete=function(t){},s.prototype.event=function(t,e){},s);function s(){}b.AnimationStateAdapter=o}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){var e,n;function r(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}e=t.core||(t.core={}),r.prototype.setMix=function(t,e,n){var r=this.skeletonData.findAnimation(t);if(null==r)throw new Error("Animation not found: "+t);var a=this.skeletonData.findAnimation(e);if(null==a)throw new Error("Animation not found: "+e);this.setMixWith(r,a,n)},r.prototype.setMixByName=function(t,e,n){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(t,e,n)},r.prototype.setMixWith=function(t,e,n){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var r=t.name+"."+e.name;this.animationToMixTime[r]=n},r.prototype.getMix=function(t,e){var n=t.name+"."+e.name,r=this.animationToMixTime[n];return void 0===r?this.defaultMix:r},r.deprecatedWarning1=!1,n=r,e.AnimationStateData=n}(pixi_spine=pixi_spine||{}),function(t){var i,e;function n(t){this.atlas=t}i=t.core||(t.core={}),n.prototype.newRegionAttachment=function(t,e,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");var a=new i.RegionAttachment(e);return a.region=r,a},n.prototype.newMeshAttachment=function(t,e,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");var a=new i.MeshAttachment(e);return a.region=r,a},n.prototype.newBoundingBoxAttachment=function(t,e){return new i.BoundingBoxAttachment(e)},n.prototype.newPathAttachment=function(t,e){return new i.PathAttachment(e)},n.prototype.newPointAttachment=function(t,e){return new i.PointAttachment(e)},n.prototype.newClippingAttachment=function(t,e){return new i.ClippingAttachment(e)},e=n,i.AtlasAttachmentLoader=e}(pixi_spine=pixi_spine||{}),function(t){var e,n;e=t.core||(t.core={}),(n=e.BlendMode||(e.BlendMode={}))[n.Normal=0]="Normal",n[n.Additive=1]="Additive",n[n.Multiply=2]="Multiply",n[n.Screen=3]="Screen"}(pixi_spine=pixi_spine||{}),function(t){var V,e;function _(t,e,n){if(this.matrix=new PIXI.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}V=t.core||(t.core={}),Object.defineProperty(_.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!0,configurable:!0}),_.prototype.isActive=function(){return this.active},_.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},_.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},_.prototype.updateWorldTransformWith=function(t,e,n,r,a,i,o){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=r,this.ascaleY=a,this.ashearX=i,this.ashearY=o,this.appliedValid=!0;var s=this.parent,l=this.matrix,h=this.skeleton.scaleX,c=_.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==s){var u=this.skeleton,p=n+90+o;return l.a=V.MathUtils.cosDeg(n+i)*r*h,l.c=V.MathUtils.cosDeg(p)*a*h,l.b=V.MathUtils.sinDeg(n+i)*r*c,l.d=V.MathUtils.sinDeg(p)*a*c,l.tx=t*h+u.x,void(l.ty=e*c+u.y)}var d=s.matrix.a,f=s.matrix.c,m=s.matrix.b,g=s.matrix.d;switch(l.tx=d*t+f*e+s.matrix.tx,l.ty=m*t+g*e+s.matrix.ty,this.data.transformMode){case V.TransformMode.Normal:var p=n+90+o,v=V.MathUtils.cosDeg(n+i)*r,y=V.MathUtils.cosDeg(p)*a,x=V.MathUtils.sinDeg(n+i)*r,M=V.MathUtils.sinDeg(p)*a;return l.a=d*v+f*x,l.c=d*y+f*M,l.b=m*v+g*x,void(l.d=m*y+g*M);case V.TransformMode.OnlyTranslation:p=n+90+o,l.a=V.MathUtils.cosDeg(n+i)*r,l.c=V.MathUtils.cosDeg(p)*a,l.b=V.MathUtils.sinDeg(n+i)*r,l.d=V.MathUtils.sinDeg(p)*a;break;case V.TransformMode.NoRotationOrReflection:var w=0,E=n+i-(w=1e-4<(b=d*d+m*m)?(f=m*(b=Math.abs(d*g-f*m)/b),g=d*b,Math.atan2(m,d)*V.MathUtils.radDeg):(m=d=0,90-Math.atan2(g,f)*V.MathUtils.radDeg)),T=n+o-w+90,v=V.MathUtils.cosDeg(E)*r,y=V.MathUtils.cosDeg(T)*a,x=V.MathUtils.sinDeg(E)*r,M=V.MathUtils.sinDeg(T)*a;l.a=d*v-f*x,l.c=d*y-f*M,l.b=m*v+g*x,l.d=m*y+g*M;break;case V.TransformMode.NoScale:case V.TransformMode.NoScaleOrReflection:var b,S=V.MathUtils.cosDeg(n),I=V.MathUtils.sinDeg(n),A=(d*S+f*I)/h,R=(m*S+g*I)/c;1e-5<(b=Math.sqrt(A*A+R*R))&&(b=1/b),A*=b,R*=b,b=Math.sqrt(A*A+R*R),this.data.transformMode==V.TransformMode.NoScale&&d*g-f*m<0!=(_.yDown?this.skeleton.scaleX<0!=0<this.skeleton.scaleY:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(b=-b);var C=Math.PI/2+Math.atan2(R,A),P=Math.cos(C)*b,k=Math.sin(C)*b,v=V.MathUtils.cosDeg(i)*r,y=V.MathUtils.cosDeg(90+o)*a,x=V.MathUtils.sinDeg(i)*r,M=V.MathUtils.sinDeg(90+o)*a;l.a=A*v+P*x,l.c=A*y+P*M,l.b=R*v+k*x,l.d=R*y+k*M}l.a*=h,l.c*=h,l.b*=c,l.d*=c},_.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},_.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*V.MathUtils.radDeg},_.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*V.MathUtils.radDeg},_.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},_.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},_.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*V.MathUtils.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*V.MathUtils.radDeg);var n=t.matrix,r=1/(n.a*n.d-n.b*n.c),a=e.tx-n.tx,i=e.ty-n.ty;this.ax=a*n.d*r-i*n.c*r,this.ay=i*n.a*r-a*n.b*r;var o,s=r*n.d,l=r*n.a,h=r*n.c,c=r*n.b,u=s*e.a-h*e.b,p=s*e.c-h*e.d,d=l*e.b-c*e.a,f=l*e.d-c*e.c;this.ashearX=0,this.ascaleX=Math.sqrt(u*u+d*d),1e-4<this.ascaleX?(o=u*f-p*d,this.ascaleY=o/this.ascaleX,this.ashearY=Math.atan2(u*p+d*f,o)*V.MathUtils.radDeg,this.arotation=Math.atan2(d,u)*V.MathUtils.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(p*p+f*f),this.ashearY=0,this.arotation=90-Math.atan2(f,p)*V.MathUtils.radDeg)},_.prototype.worldToLocal=function(t){var e=this.matrix,n=e.a,r=e.c,a=e.b,i=e.d,o=1/(n*i-r*a),s=t.x-e.tx,l=t.y-e.ty;return t.x=s*i*o-l*r*o,t.y=l*n*o-s*a*o,t},_.prototype.localToWorld=function(t){var e=this.matrix,n=t.x,r=t.y;return t.x=n*e.a+r*e.c+e.tx,t.y=n*e.b+r*e.d+e.ty,t},_.prototype.worldToLocalRotation=function(t){var e=V.MathUtils.sinDeg(t),n=V.MathUtils.cosDeg(t),r=this.matrix;return Math.atan2(r.a*e-r.b*n,r.d*n-r.c*e)*V.MathUtils.radDeg},_.prototype.localToWorldRotation=function(t){var e=V.MathUtils.sinDeg(t),n=V.MathUtils.cosDeg(t),r=this.matrix;return Math.atan2(n*r.b+e*r.d,n*r.a+e*r.c)*V.MathUtils.radDeg},_.prototype.rotateWorld=function(t){var e=this.matrix,n=e.a,r=e.c,a=e.b,i=e.d,o=V.MathUtils.cosDeg(t),s=V.MathUtils.sinDeg(t);e.a=o*n-s*a,e.c=o*r-s*i,e.b=s*n+o*a,e.d=s*r+o*i,this.appliedValid=!1},_.yDown=!1,e=_,V.Bone=e}(pixi_spine=pixi_spine||{}),function(t){var r,a,e;function n(t,e,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=a.Normal,this.skinRequired=!1,this.color=new r.Color,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=n}(r=t.core||(t.core={})).BoneData=n,(e=a=r.TransformMode||(r.TransformMode={}))[e.Normal=0]="Normal",e[e.OnlyTranslation=1]="OnlyTranslation",e[e.NoRotationOrReflection=2]="NoRotationOrReflection",e[e.NoScale=3]="NoScale",e[e.NoScaleOrReflection=4]="NoScaleOrReflection"}(pixi_spine=pixi_spine||{}),function(t){function e(t,e,n){this.name=t,this.order=e,this.skinRequired=n}(t.core||(t.core={})).ConstraintData=e}(pixi_spine=pixi_spine||{}),function(t){function e(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e}(t.core||(t.core={})).Event=e}(pixi_spine=pixi_spine||{}),function(t){function e(t){this.name=t}(t.core||(t.core={})).EventData=e}(pixi_spine=pixi_spine||{}),function(t){var ht,e;function n(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}ht=t.core||(t.core={}),n.prototype.isActive=function(){return this.active},n.prototype.apply=function(){this.update()},n.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}},n.prototype.apply1=function(t,e,n,r,a,i,o){t.appliedValid||t.updateAppliedTransform();var s=t.parent.matrix,l=s.a,h=s.c,c=s.b,u=s.d,p=-t.ashearX-t.arotation,d=0,f=0;switch(t.data.transformMode){case ht.TransformMode.OnlyTranslation:d=e-t.worldX,f=n-t.worldY;break;case ht.TransformMode.NoRotationOrReflection:p+=Math.atan2(c,l)*ht.MathUtils.radDeg;var m=Math.abs(l*u-h*c)/(l*l+c*c),h=-c*m,u=l*m;default:var g=e-s.tx,v=n-s.ty,y=l*u-h*c,d=(g*u-v*h)/y-t.ax,f=(v*l-g*c)/y-t.ay}p+=Math.atan2(f,d)*ht.MathUtils.radDeg,t.ascaleX<0&&(p+=180),180<p?p-=360:p<-180&&(p+=360);var x=t.ascaleX,M=t.ascaleY;if(r||a){switch(t.data.transformMode){case ht.TransformMode.NoScale:case ht.TransformMode.NoScaleOrReflection:d=e-t.worldX,f=n-t.worldY}var w,E=t.data.length*x,T=Math.sqrt(d*d+f*f);(r&&T<E||a&&E<T&&1e-4<E)&&(x*=w=(T/E-1)*o+1,i&&(M*=w))}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+p*o,x,M,t.ashearX,t.ashearY)},n.prototype.apply2=function(t,e,n,r,a,i,o,s){if(0!=s){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var l=t.ax,h=t.ay,c=t.ascaleX,u=c,p=t.ascaleY,d=e.ascaleX,f=t.matrix,m=0,g=0,v=0,v=c<0?(c=-c,m=180,-1):(m=0,1);p<0&&(p=-p,v=-v),g=d<0?(d=-d,180):0;var y=e.ax,x=0,M=0,w=0,E=f.a,T=f.c,b=f.b,S=f.d,I=Math.abs(c-p)<=1e-4,w=I?(M=E*y+T*(x=e.ay)+f.tx,b*y+S*x+f.ty):(x=0,M=E*y+f.tx,b*y+f.ty),A=t.parent.matrix,E=A.a,T=A.c;b=A.b;var R,C=1/(E*(S=A.d)-T*b),P=M-A.tx,k=w-A.ty,V=(P*S-k*T)*C-l,_=(k*E-P*b)*C-h,N=Math.sqrt(V*V+_*_),F=e.data.length*d;if(N<1e-4)return this.apply1(t,n,r,!1,i,!1,s),void e.updateWorldTransformWith(y,x,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var O,D,U,X=((P=n-A.tx)*S-(k=r-A.ty)*T)*C-l,B=(k*E-P*b)*C-h,L=X*X+B*B;0!=o&&(o*=c*(d+1)/2,0<(D=(O=Math.sqrt(L))-N-F*c+o)&&(L=(X-=(U=(D-o*(1-(U=Math.min(1,D/(2*o))-1)*U))/O)*X)*X+(B-=U*B)*B));t:if(I){var Y=(L-N*N-(F*=c)*F)/(2*N*F);Y<-1?Y=-1:1<Y&&(Y=1,i&&(u*=(Math.sqrt(L)/(N+F)-1)*s+1)),R=Math.acos(Y)*a,E=N+F*Y,T=F*Math.sin(R),ot=Math.atan2(B*E-X*T,X*E+B*T)}else{var W=(E=c*F)*E,q=(T=p*F)*T,H=Math.atan2(B,X),G=-2*q*N,j=q-W;if(0<=(S=G*G-4*j*(b=q*N*N+W*L-W*q))){var z=Math.sqrt(S);G<0&&(z=-z);var Z=(z=-(G+z)/2)/j,J=b/z,K=Math.abs(Z)<Math.abs(J)?Z:J;if(K*K<=L){k=Math.sqrt(L-K*K)*a,ot=H-Math.atan2(k,K),R=Math.atan2(k/p,(K-N)/c);break t}}var Q=ht.MathUtils.PI,$=N-E,tt=$*$,et=0,nt=0,rt=N+E,at=rt*rt,it=0;-1<=(b=-E*N/(W-q))&&b<=1&&(b=Math.acos(b),(S=(P=E*Math.cos(b)+N)*P+(k=T*Math.sin(b))*k)<tt&&(Q=b,tt=S,$=P,et=k),at<S&&(nt=b,at=S,rt=P,it=k)),R=L<=(tt+at)/2?(ot=H-Math.atan2(et*a,$),Q*a):(ot=H-Math.atan2(it*a,rt),nt*a)}var ot,st=Math.atan2(x,y)*v,lt=t.arotation;180<(ot=(ot-st)*ht.MathUtils.radDeg+m-lt)?ot-=360:ot<-180&&(ot+=360),t.updateWorldTransformWith(l,h,lt+ot*s,u,t.ascaleY,0,0),lt=e.arotation,180<(R=((R+st)*ht.MathUtils.radDeg-e.ashearX)*v+g-lt)?R-=360:R<-180&&(R+=360),e.updateWorldTransformWith(y,x,lt+R*s,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}else e.updateWorldTransform()},e=n,ht.IkConstraint=e}(pixi_spine=pixi_spine||{}),function(t){var e,n,r;function a(t){var e=n.call(this,t,0,!1)||this;return e.bones=new Array,e.bendDirection=1,e.compress=!1,e.stretch=!1,e.uniform=!1,e.mix=1,e.softness=0,e}e=t.core||(t.core={}),n=e.ConstraintData,__extends(a,n),r=a,e.IkConstraintData=r}(pixi_spine=pixi_spine||{}),function(t){var z,e;function Z(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,r=t.bones.length;n<r;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}z=t.core||(t.core={}),Z.prototype.isActive=function(){return this.active},Z.prototype.apply=function(){this.update()},Z.prototype.update=function(){var t=this.target.getAttachment();if(t instanceof z.PathAttachment){var e=this.rotateMix,n=this.translateMix,r=0<e;if(0<n||r){var a=this.data,i=a.spacingMode,o=i==z.SpacingMode.Length,s=a.rotateMode,l=s==z.RotateMode.Tangent,h=s==z.RotateMode.ChainScale,c=this.bones.length,u=l?c:c+1,p=this.bones,d=z.Utils.setArraySize(this.spaces,u),f=null,m=this.spacing;if(h||o){h&&(f=z.Utils.setArraySize(this.lengths,c));for(var g=0,v=u-1;g<v;){var y,x=(I=p[g]).data.length;x<Z.epsilon?(h&&(f[g]=0),d[++g]=0):(R=x*I.matrix.a,C=x*I.matrix.b,y=Math.sqrt(R*R+C*C),h&&(f[g]=y),d[++g]=(o?x+m:m)*y/x)}}else for(g=1;g<u;g++)d[g]=m;var M=this.computeWorldPositions(t,u,l,a.positionMode==z.PositionMode.Percent,i==z.SpacingMode.Percent),w=M[0],E=M[1],T=a.offsetRotation,b=!1;0==T?b=s==z.RotateMode.Chain:(b=!1,T*=0<(S=this.target.bone.matrix).a*S.d-S.b*S.c?z.MathUtils.degRad:-z.MathUtils.degRad);for(var g=0,S=3;g<c;g++,S+=3){var I,A=(I=p[g]).matrix;A.tx+=(w-A.tx)*n,A.ty+=(E-A.ty)*n;var R,C,P,k,V,_,N,F,O,D,U,X,B=(R=M[S])-w,L=(C=M[S+1])-E;!h||0!=(P=f[g])&&(k=(Math.sqrt(B*B+L*L)/P-1)*e+1,A.a*=k,A.b*=k),w=R,E=C,r&&(V=A.a,_=A.c,N=A.b,F=A.d,D=O=X=0,X=l?M[S-1]:0==d[g+1]?M[S+2]:Math.atan2(L,B),X-=Math.atan2(N,V),b?(O=Math.cos(X),D=Math.sin(X),w+=((U=I.data.length)*(O*V-D*N)-B)*e,E+=(U*(D*V+O*N)-L)*e):X+=T,X>z.MathUtils.PI?X-=z.MathUtils.PI2:X<-z.MathUtils.PI&&(X+=z.MathUtils.PI2),X*=e,O=Math.cos(X),D=Math.sin(X),A.a=O*V-D*N,A.c=O*_-D*F,A.b=D*V+O*N,A.d=D*_+O*F),I.appliedValid=!1}}}},Z.prototype.computeWorldPositions=function(t,e,n,r,a){var i=this.target,o=this.position,s=this.spaces,l=z.Utils.setArraySize(this.positions,3*e+2),h=null,c=t.closed,u=t.worldVerticesLength,p=u/6,d=Z.NONE;if(!t.constantSpeed){var f=t.lengths,m=f[p-=c?1:2];if(r&&(o*=m),a)for(var g=0;g<e;g++)s[g]*=m;h=z.Utils.setArraySize(this.world,8);for(var g=0,v=0,y=0;g<e;g++,v+=3){var x=o+=W=s[g];if(c)(x%=m)<0&&(x+=m),y=0;else{if(x<0){d!=Z.BEFORE&&(d=Z.BEFORE,t.computeWorldVertices(i,2,4,h,0,2)),this.addBeforePosition(x,h,0,l,v);continue}if(m<x){d!=Z.AFTER&&(d=Z.AFTER,t.computeWorldVertices(i,u-6,4,h,0,2)),this.addAfterPosition(x-m,h,0,l,v);continue}}for(;;y++){var M=f[y];if(!(M<x)){0==y?x/=M:x=(x-(G=f[y-1]))/(M-G);break}}y!=d&&(d=y,c&&y==p?(t.computeWorldVertices(i,u-4,4,h,0,2),t.computeWorldVertices(i,0,4,h,4,2)):t.computeWorldVertices(i,6*y+2,8,h,0,2)),this.addCurvePosition(x,h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],l,v,n||0<g&&0==W)}return l}c?(u+=2,h=z.Utils.setArraySize(this.world,u),t.computeWorldVertices(i,2,u-4,h,0,2),t.computeWorldVertices(i,0,2,h,u-4,2),h[u-2]=h[0],h[u-1]=h[1]):(p--,u-=4,h=z.Utils.setArraySize(this.world,u),t.computeWorldVertices(i,2,u,h,0,2));for(var w=z.Utils.setArraySize(this.curves,p),E=0,T=h[0],b=h[1],S=0,I=0,A=0,R=0,C=0,P=0,k=0,V=0,_=0,N=0,F=0,O=0,D=0,U=0,g=0,X=2;g<p;g++,X+=6)S=h[X],I=h[X+1],A=h[X+2],R=h[X+3],F=2*(k=.1875*(T-2*S+A))+(_=.09375*(3*(S-A)-T+(C=h[X+4]))),O=2*(V=.1875*(b-2*I+R))+(N=.09375*(3*(I-R)-b+(P=h[X+5]))),D=.75*(S-T)+k+.16666667*_,U=.75*(I-b)+V+.16666667*N,E+=Math.sqrt(D*D+U*U),D+=F,U+=O,F+=_,O+=N,E+=Math.sqrt(D*D+U*U),D+=F,U+=O,E+=Math.sqrt(D*D+U*U),D+=F+_,U+=O+N,E+=Math.sqrt(D*D+U*U),w[g]=E,T=C,b=P;if(r&&(o*=E),a)for(g=0;g<e;g++)s[g]*=E;for(var B=this.segments,L=0,g=0,v=0,y=0,Y=0;g<e;g++,v+=3){var W,x=o+=W=s[g];if(c)(x%=E)<0&&(x+=E),y=0;else{if(x<0){this.addBeforePosition(x,h,0,l,v);continue}if(E<x){this.addAfterPosition(x-E,h,u-4,l,v);continue}}for(;;y++){var q=w[y];if(!(q<x)){0==y?x/=q:x=(x-(G=w[y-1]))/(q-G);break}}if(y!=d){var H=6*(d=y),T=h[H],b=h[H+1],S=h[H+2],I=h[H+3],A=h[H+4],R=h[H+5],F=2*(k=.03*(T-2*S+A))+(_=.006*(3*(S-A)-T+(C=h[H+6]))),O=2*(V=.03*(b-2*I+R))+(N=.006*(3*(I-R)-b+(P=h[H+7]))),D=.3*(S-T)+k+.16666667*_,U=.3*(I-b)+V+.16666667*N,L=Math.sqrt(D*D+U*U);for(B[0]=L,H=1;H<8;H++)D+=F,U+=O,F+=_,O+=N,L+=Math.sqrt(D*D+U*U),B[H]=L;D+=F,U+=O,L+=Math.sqrt(D*D+U*U),B[8]=L,D+=F+_,U+=O+N,L+=Math.sqrt(D*D+U*U),B[9]=L,Y=0}for(x*=L;;Y++){var G,j=B[Y];if(!(j<x)){0==Y?x/=j:x=Y+(x-(G=B[Y-1]))/(j-G);break}}this.addCurvePosition(.1*x,T,b,S,I,A,R,C,P,l,v,n||0<g&&0==W)}return l},Z.prototype.addBeforePosition=function(t,e,n,r,a){var i=e[n],o=e[n+1],s=e[n+2]-i,l=e[n+3]-o,h=Math.atan2(l,s);r[a]=i+t*Math.cos(h),r[a+1]=o+t*Math.sin(h),r[a+2]=h},Z.prototype.addAfterPosition=function(t,e,n,r,a){var i=e[n+2],o=e[n+3],s=i-e[n],l=o-e[n+1],h=Math.atan2(l,s);r[a]=i+t*Math.cos(h),r[a+1]=o+t*Math.sin(h),r[a+2]=h},Z.prototype.addCurvePosition=function(t,e,n,r,a,i,o,s,l,h,c,u){0!=t&&!isNaN(t)||(t=1e-4);var p=t*t,d=p*t,f=1-t,m=f*f,g=m*f,v=f*t,y=3*v,x=f*y,M=y*t,w=e*g+r*x+i*M+s*d,E=n*g+a*x+o*M+l*d;h[c]=w,h[c+1]=E,u&&(h[c+2]=Math.atan2(E-(n*m+a*v*2+o*p),w-(e*m+r*v*2+i*p)))},Z.NONE=-1,Z.BEFORE=-2,Z.AFTER=-3,Z.epsilon=1e-5,e=Z,z.PathConstraint=e}(pixi_spine=pixi_spine||{}),function(t){var e,n,r,a,i,o;function s(t){var e=n.call(this,t,0,!1)||this;return e.bones=new Array,e}e=t.core||(t.core={}),n=e.ConstraintData,__extends(s,n),o=s,e.PathConstraintData=o,(r=e.PositionMode||(e.PositionMode={}))[r.Fixed=0]="Fixed",r[r.Percent=1]="Percent",(a=e.SpacingMode||(e.SpacingMode={}))[a.Length=0]="Length",a[a.Fixed=1]="Fixed",a[a.Percent=2]="Percent",(i=e.RotateMode||(e.RotateMode={}))[i.Tangent=0]="Tangent",i[i.Chain=1]="Chain",i[i.ChainScale=2]="ChainScale"}(pixi_spine=pixi_spine||{}),function(t){var x,e;function n(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var n,r=t.bones[e],a=void 0;null==r.parent?a=new x.Bone(r,this,null):(n=this.bones[r.parent.index],a=new x.Bone(r,this,n),n.children.push(a)),this.bones.push(a)}this.slots=new Array,this.drawOrder=new Array;for(e=0;e<t.slots.length;e++){var i=t.slots[e],a=this.bones[i.boneData.index],o=new x.Slot(i,a);this.slots.push(o),this.drawOrder.push(o)}this.ikConstraints=new Array;for(e=0;e<t.ikConstraints.length;e++){var s=t.ikConstraints[e];this.ikConstraints.push(new x.IkConstraint(s,this))}this.transformConstraints=new Array;for(e=0;e<t.transformConstraints.length;e++){var l=t.transformConstraints[e];this.transformConstraints.push(new x.TransformConstraint(l,this))}this.pathConstraints=new Array;for(e=0;e<t.pathConstraints.length;e++){var h=t.pathConstraints[e];this.pathConstraints.push(new x.PathConstraint(h,this))}this.color=new x.Color(1,1,1,1),this.updateCache()}x=t.core||(t.core={}),n.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,n=t.length;e<n;e++)(a=t[e]).sorted=a.data.skinRequired,a.active=!a.sorted;if(null!=this.skin)for(var r=this.skin.bones,e=0,n=this.skin.bones.length;e<n;e++)for(var a=this.bones[r[e].index];a.sorted=!1,a.active=!0,null!=(a=a.parent););var i=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,l=i.length,h=o.length,c=s.length,u=l+h+c;t:for(e=0;e<u;e++){for(var p=0;p<l;p++)if((d=i[p]).data.order==e){this.sortIkConstraint(d);continue t}for(p=0;p<h;p++)if((d=o[p]).data.order==e){this.sortTransformConstraint(d);continue t}for(var d,p=0;p<c;p++)if((d=s[p]).data.order==e){this.sortPathConstraint(d);continue t}}for(e=0,n=t.length;e<n;e++)this.sortBone(t[e])},n.prototype.sortIkConstraint=function(t){var e,n,r,a;t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&x.Utils.contains(this.skin.constraints,t.data,!0)),t.active&&(e=t.target,this.sortBone(e),r=(n=t.bones)[0],this.sortBone(r),1<n.length&&(a=n[n.length-1],-1<this._updateCache.indexOf(a)||this.updateCacheReset.push(a)),this._updateCache.push(t),this.sortReset(r.children),n[n.length-1].sorted=!0)},n.prototype.sortPathConstraint=function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||null!=this.skin&&x.Utils.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target,n=e.data.index,r=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var a=0,i=this.data.skins.length;a<i;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,r);var o=e.getAttachment();o instanceof x.PathAttachment&&this.sortPathConstraintAttachmentWith(o,r);for(var s=t.bones,l=s.length,a=0;a<l;a++)this.sortBone(s[a]);for(this._updateCache.push(t),a=0;a<l;a++)this.sortReset(s[a].children);for(a=0;a<l;a++)s[a].sorted=!0}},n.prototype.sortTransformConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&x.Utils.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var e=t.bones,n=e.length;if(t.data.local)for(var r=0;r<n;r++){var a=e[r];this.sortBone(a.parent),-1<this._updateCache.indexOf(a)||this.updateCacheReset.push(a)}else for(r=0;r<n;r++)this.sortBone(e[r]);this._updateCache.push(t);for(var i=0;i<n;i++)this.sortReset(e[i].children);for(i=0;i<n;i++)e[i].sorted=!0}},n.prototype.sortPathConstraintAttachment=function(t,e,n){var r=t.attachments[e];if(r)for(var a in r)this.sortPathConstraintAttachmentWith(r[a],n)},n.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof x.PathAttachment){var n=t.bones;if(null==n)this.sortBone(e);else for(var r=this.bones,a=0;a<n.length;)for(var i=n[a++],o=a+i;a<o;a++){var s=n[a];this.sortBone(r[s])}}},n.prototype.sortBone=function(t){var e;t.sorted||(null!=(e=t.parent)&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t))},n.prototype.sortReset=function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}},n.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,n=t.length;e<n;e++){var r=t[e];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}for(var a=this._updateCache,e=0,n=a.length;e<n;e++)a[e].update()},n.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},n.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();for(var r=this.ikConstraints,e=0,n=r.length;e<n;e++)(s=r[e]).mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch;for(var a=this.transformConstraints,e=0,n=a.length;e<n;e++){var i=(s=a[e]).data;s.rotateMix=i.rotateMix,s.translateMix=i.translateMix,s.scaleMix=i.scaleMix,s.shearMix=i.shearMix}for(var o=this.pathConstraints,e=0,n=o.length;e<n;e++){var s,i=(s=o[e]).data;s.position=i.position,s.spacing=i.spacing,s.rotateMix=i.rotateMix,s.translateMix=i.translateMix}},n.prototype.setSlotsToSetupPose=function(){var t=this.slots;x.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,n=t.length;e<n;e++)t[e].setToSetupPose()},n.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},n.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},n.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},n.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},n.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},n.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},n.prototype.setSkin=function(t){if(t!=this.skin){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,r=e.length;n<r;n++){var a,i=e[n],o=i.data.attachmentName;null==o||null!=(a=t.getAttachment(n,o))&&i.setAttachment(a)}this.skin=t,this.updateCache()}},n.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},n.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(t,e);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},n.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var n=this.slots,r=0,a=n.length;r<a;r++){var i=n[r];if(i.data.name==t){var o=null;if(null!=e&&null==(o=this.getAttachment(r,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void i.setAttachment(o)}}throw new Error("Slot not found: "+t)},n.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},n.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},n.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},n.prototype.getBounds=function(t,e,n){if(void 0===n&&(n=new Array(2)),null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var r=this.drawOrder,a=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l=0,h=r.length;l<h;l++){var c=r[l];if(c.bone.active){var u,p=0,d=null,f=c.getAttachment();if(f instanceof x.RegionAttachment?(p=8,d=x.Utils.setArraySize(n,p,0),f.computeWorldVertices(c.bone,d,0,2)):f instanceof x.MeshAttachment&&(p=(u=f).worldVerticesLength,d=x.Utils.setArraySize(n,p,0),u.computeWorldVertices(c,0,p,d,0,2)),null!=d)for(var m=0,g=d.length;m<g;m+=2)var v=d[m],y=d[m+1],a=Math.min(a,v),i=Math.min(i,y),o=Math.max(o,v),s=Math.max(s,y)}}t.set(a,i),e.set(o-a,s-i)},n.prototype.update=function(t){this.time+=t},Object.defineProperty(n.prototype,"flipX",{get:function(){return-1==this.scaleX},set:function(t){n.deprecatedWarning1||(n.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=t?1:-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"flipY",{get:function(){return-1==this.scaleY},set:function(t){n.deprecatedWarning1||(n.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=t?1:-1},enumerable:!0,configurable:!0}),n.deprecatedWarning1=!1,e=n,x.Skeleton=e}(pixi_spine=pixi_spine||{}),function(t){!function(q){var t=(H.prototype.readSkeletonData=function(t){var e=this.scale,n=new q.SkeletonData;n.name="";var r=new x(t);n.hash=r.readString(),n.version=r.readString(),"3.8.75"===n.version&&console.error("Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine."),n.x=r.readFloat(),n.y=r.readFloat(),n.width=r.readFloat(),n.height=r.readFloat();var a=r.readBoolean();a&&(n.fps=r.readFloat(),n.imagesPath=r.readString(),n.audioPath=r.readString());for(var i=0,i=r.readInt(!0),o=0;o<i;o++)r.strings.push(r.readString());for(i=r.readInt(!0),o=0;o<i;o++){var s=r.readString(),l=0==o?null:n.bones[r.readInt(!0)];(u=new q.BoneData(o,s,l)).rotation=r.readFloat(),u.x=r.readFloat()*e,u.y=r.readFloat()*e,u.scaleX=r.readFloat(),u.scaleY=r.readFloat(),u.shearX=r.readFloat(),u.shearY=r.readFloat(),u.length=r.readFloat()*e,u.transformMode=H.TransformModeValues[r.readInt(!0)],u.skinRequired=r.readBoolean(),a&&q.Color.rgba8888ToColor(u.color,r.readInt32()),n.bones.push(u)}for(i=r.readInt(!0),o=0;o<i;o++){var h=r.readString(),c=n.bones[r.readInt(!0)],u=new q.SlotData(o,h,c);q.Color.rgba8888ToColor(u.color,r.readInt32());var p=r.readInt32();-1!=p&&q.Color.rgb888ToColor(u.darkColor=new q.Color,p),u.attachmentName=r.readStringRef(),u.blendMode=H.BlendModeValues[r.readInt(!0)],n.slots.push(u)}i=r.readInt(!0);for(var o=0,d=void 0;o<i;o++){(u=new q.IkConstraintData(r.readString())).order=r.readInt(!0),u.skinRequired=r.readBoolean(),d=r.readInt(!0);for(var f=0;f<d;f++)u.bones.push(n.bones[r.readInt(!0)]);u.target=n.bones[r.readInt(!0)],u.mix=r.readFloat(),u.softness=r.readFloat()*e,u.bendDirection=r.readByte(),u.compress=r.readBoolean(),u.stretch=r.readBoolean(),u.uniform=r.readBoolean(),n.ikConstraints.push(u)}for(i=r.readInt(!0),d=void(o=0);o<i;o++){for((u=new q.TransformConstraintData(r.readString())).order=r.readInt(!0),u.skinRequired=r.readBoolean(),d=r.readInt(!0),f=0;f<d;f++)u.bones.push(n.bones[r.readInt(!0)]);u.target=n.bones[r.readInt(!0)],u.local=r.readBoolean(),u.relative=r.readBoolean(),u.offsetRotation=r.readFloat(),u.offsetX=r.readFloat()*e,u.offsetY=r.readFloat()*e,u.offsetScaleX=r.readFloat(),u.offsetScaleY=r.readFloat(),u.offsetShearY=r.readFloat(),u.rotateMix=r.readFloat(),u.translateMix=r.readFloat(),u.scaleMix=r.readFloat(),u.shearMix=r.readFloat(),n.transformConstraints.push(u)}for(i=r.readInt(!0),d=void(o=0);o<i;o++){for((u=new q.PathConstraintData(r.readString())).order=r.readInt(!0),u.skinRequired=r.readBoolean(),d=r.readInt(!0),f=0;f<d;f++)u.bones.push(n.bones[r.readInt(!0)]);u.target=n.slots[r.readInt(!0)],u.positionMode=H.PositionModeValues[r.readInt(!0)],u.spacingMode=H.SpacingModeValues[r.readInt(!0)],u.rotateMode=H.RotateModeValues[r.readInt(!0)],u.offsetRotation=r.readFloat(),u.position=r.readFloat(),u.positionMode==q.PositionMode.Fixed&&(u.position*=e),u.spacing=r.readFloat(),u.spacingMode!=q.SpacingMode.Length&&u.spacingMode!=q.SpacingMode.Fixed||(u.spacing*=e),u.rotateMix=r.readFloat(),u.translateMix=r.readFloat(),n.pathConstraints.push(u)}var m=this.readSkin(r,n,!0,a);for(null!=m&&(n.defaultSkin=m,n.skins.push(m)),o=n.skins.length,q.Utils.setArraySize(n.skins,i=o+r.readInt(!0));o<i;o++)n.skins[o]=this.readSkin(r,n,!1,a);for(i=this.linkedMeshes.length,o=0;o<i;o++){var g=this.linkedMeshes[o],v=null==g.skin?n.defaultSkin:n.findSkin(g.skin);if(null==v)throw new Error("Skin not found: "+g.skin);var y=v.getAttachment(g.slotIndex,g.parent);if(null==y)throw new Error("Parent mesh not found: "+g.parent);g.mesh.deformAttachment=g.inheritDeform?y:g.mesh,g.mesh.setParentMesh(y)}for(this.linkedMeshes.length=0,i=r.readInt(!0),o=0;o<i;o++)(u=new q.EventData(r.readStringRef())).intValue=r.readInt(!1),u.floatValue=r.readFloat(),u.stringValue=r.readString(),u.audioPath=r.readString(),null!=u.audioPath&&(u.volume=r.readFloat(),u.balance=r.readFloat()),n.events.push(u);for(i=r.readInt(!0),o=0;o<i;o++)n.animations.push(this.readAnimation(r,r.readString(),n));return n},H.prototype.readSkin=function(t,e,n,r){var a=null,i=0;if(n){if(0==(i=t.readInt(!0)))return null;a=new q.Skin("default")}else{(a=new q.Skin(t.readStringRef())).bones.length=t.readInt(!0);for(var o=0,s=a.bones.length;o<s;o++)a.bones[o]=e.bones[t.readInt(!0)];for(o=0,s=t.readInt(!0);o<s;o++)a.constraints.push(e.ikConstraints[t.readInt(!0)]);for(o=0,s=t.readInt(!0);o<s;o++)a.constraints.push(e.transformConstraints[t.readInt(!0)]);for(o=0,s=t.readInt(!0);o<s;o++)a.constraints.push(e.pathConstraints[t.readInt(!0)]);i=t.readInt(!0)}for(o=0;o<i;o++)for(var l=t.readInt(!0),h=0,c=t.readInt(!0);h<c;h++){var u=t.readStringRef(),p=this.readAttachment(t,e,a,l,u,r);null!=p&&a.setAttachment(l,u,p)}return a},H.prototype.readAttachment=function(t,e,n,r,a,i){var o=this.scale,s=t.readStringRef();null==s&&(s=a);var l=t.readByte();switch(H.AttachmentTypeValues[l]){case q.AttachmentType.Region:var h=t.readStringRef(),c=t.readFloat(),u=t.readFloat(),p=t.readFloat(),d=t.readFloat(),f=t.readFloat(),m=t.readFloat(),g=t.readFloat(),v=t.readInt32();null==h&&(h=s);var y=this.attachmentLoader.newRegionAttachment(n,s,h);return null==y?null:(y.path=h,y.x=u*o,y.y=p*o,y.scaleX=d,y.scaleY=f,y.rotation=c,y.width=m*o,y.height=g*o,q.Color.rgba8888ToColor(y.color,v),y);case q.AttachmentType.BoundingBox:var x=t.readInt(!0),M=this.readVertices(t,x),v=i?t.readInt32():0,w=this.attachmentLoader.newBoundingBoxAttachment(n,s);return null==w?null:(w.worldVerticesLength=x<<1,w.vertices=M.vertices,w.bones=M.bones,i&&q.Color.rgba8888ToColor(w.color,v),w);case q.AttachmentType.Mesh:var h=t.readStringRef(),v=t.readInt32(),x=t.readInt(!0),E=this.readFloatArray(t,x<<1,1),T=this.readShortArray(t),M=this.readVertices(t,x),b=t.readInt(!0),S=null,m=0,g=0;return i&&(S=this.readShortArray(t),m=t.readFloat(),g=t.readFloat()),null==h&&(h=s),null==(I=this.attachmentLoader.newMeshAttachment(n,s,h))?null:(I.path=h,q.Color.rgba8888ToColor(I.color,v),I.bones=M.bones,I.vertices=M.vertices,I.worldVerticesLength=x<<1,I.triangles=T,I.regionUVs=new Float32Array(E),I.hullLength=b<<1,i&&(I.edges=S,I.width=m*o,I.height=g*o),I);case q.AttachmentType.LinkedMesh:var I,h=t.readStringRef(),v=t.readInt32(),A=t.readStringRef(),R=t.readStringRef(),C=t.readBoolean(),m=0,g=0;return i&&(m=t.readFloat(),g=t.readFloat()),null==h&&(h=s),null==(I=this.attachmentLoader.newMeshAttachment(n,s,h))?null:(I.path=h,q.Color.rgba8888ToColor(I.color,v),i&&(I.width=m*o,I.height=g*o),this.linkedMeshes.push(new U(I,A,r,R,C)),I);case q.AttachmentType.Path:for(var P=t.readBoolean(),k=t.readBoolean(),x=t.readInt(!0),M=this.readVertices(t,x),V=q.Utils.newArray(x/3,0),_=0,N=V.length;_<N;_++)V[_]=t.readFloat()*o;return v=i?t.readInt32():0,null==(h=this.attachmentLoader.newPathAttachment(n,s))?null:(h.closed=P,h.constantSpeed=k,h.worldVerticesLength=x<<1,h.vertices=M.vertices,h.bones=M.bones,h.lengths=V,i&&q.Color.rgba8888ToColor(h.color,v),h);case q.AttachmentType.Point:var c=t.readFloat(),u=t.readFloat(),p=t.readFloat(),v=i?t.readInt32():0,F=this.attachmentLoader.newPointAttachment(n,s);return null==F?null:(F.x=u*o,F.y=p*o,F.rotation=c,i&&q.Color.rgba8888ToColor(F.color,v),F);case q.AttachmentType.Clipping:var O=t.readInt(!0),x=t.readInt(!0),M=this.readVertices(t,x),v=i?t.readInt32():0,D=this.attachmentLoader.newClippingAttachment(n,s);return null==D?null:(D.endSlot=e.slots[O],D.worldVerticesLength=x<<1,D.vertices=M.vertices,D.bones=M.bones,i&&q.Color.rgba8888ToColor(D.color,v),D)}return null},H.prototype.readVertices=function(t,e){var n=e<<1,r=new c,a=this.scale;if(!t.readBoolean())return r.vertices=this.readFloatArray(t,n,a),r;for(var i=new Array,o=new Array,s=0;s<e;s++){var l=t.readInt(!0);o.push(l);for(var h=0;h<l;h++)o.push(t.readInt(!0)),i.push(t.readFloat()*a),i.push(t.readFloat()*a),i.push(t.readFloat())}return r.vertices=q.Utils.toFloatArray(i),r.bones=o,r},H.prototype.readFloatArray=function(t,e,n){var r=new Array(e);if(1==n)for(var a=0;a<e;a++)r[a]=t.readFloat();else for(a=0;a<e;a++)r[a]=t.readFloat()*n;return r},H.prototype.readShortArray=function(t){for(var e=t.readInt(!0),n=new Array(e),r=0;r<e;r++)n[r]=t.readShort();return n},H.prototype.readAnimation=function(t,e,n){for(var r=new Array,a=this.scale,i=0,o=new q.Color,s=new q.Color,l=0,h=t.readInt(!0);l<h;l++)for(var c=t.readInt(!0),u=0,p=t.readInt(!0);u<p;u++){var d=t.readByte(),f=t.readInt(!0);switch(d){case H.SLOT_ATTACHMENT:(y=new q.AttachmentTimeline(f)).slotIndex=c;for(var m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readStringRef());r.push(y),i=Math.max(i,y.frames[f-1]);break;case H.SLOT_COLOR:for((y=new q.ColorTimeline(f)).slotIndex=c,m=0;m<f;m++){var g=t.readFloat();q.Color.rgba8888ToColor(o,t.readInt32()),y.setFrame(m,g,o.r,o.g,o.b,o.a),m<f-1&&this.readCurve(t,m,y)}r.push(y),i=Math.max(i,y.frames[(f-1)*q.ColorTimeline.ENTRIES]);break;case H.SLOT_TWO_COLOR:for((y=new q.TwoColorTimeline(f)).slotIndex=c,m=0;m<f;m++)g=t.readFloat(),q.Color.rgba8888ToColor(o,t.readInt32()),q.Color.rgb888ToColor(s,t.readInt32()),y.setFrame(m,g,o.r,o.g,o.b,o.a,s.r,s.g,s.b),m<f-1&&this.readCurve(t,m,y);r.push(y),i=Math.max(i,y.frames[(f-1)*q.TwoColorTimeline.ENTRIES])}}for(l=0,h=t.readInt(!0);l<h;l++)for(var v=t.readInt(!0),u=0,p=t.readInt(!0);u<p;u++)switch(d=t.readByte(),f=t.readInt(!0),d){case H.BONE_ROTATE:for((y=new q.RotateTimeline(f)).boneIndex=v,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat()),m<f-1&&this.readCurve(t,m,y);r.push(y),i=Math.max(i,y.frames[(f-1)*q.RotateTimeline.ENTRIES]);break;case H.BONE_TRANSLATE:case H.BONE_SCALE:case H.BONE_SHEAR:var y=void 0,x=1;for(d==H.BONE_SCALE?y=new q.ScaleTimeline(f):d==H.BONE_SHEAR?y=new q.ShearTimeline(f):(y=new q.TranslateTimeline(f),x=a),y.boneIndex=v,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat()*x,t.readFloat()*x),m<f-1&&this.readCurve(t,m,y);r.push(y),i=Math.max(i,y.frames[(f-1)*q.TranslateTimeline.ENTRIES])}for(l=0,h=t.readInt(!0);l<h;l++){var M=t.readInt(!0),f=t.readInt(!0);for((y=new q.IkConstraintTimeline(f)).ikConstraintIndex=M,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat(),t.readFloat()*a,t.readByte(),t.readBoolean(),t.readBoolean()),m<f-1&&this.readCurve(t,m,y);r.push(y),i=Math.max(i,y.frames[(f-1)*q.IkConstraintTimeline.ENTRIES])}for(l=0,h=t.readInt(!0);l<h;l++){for(M=t.readInt(!0),f=t.readInt(!0),(y=new q.TransformConstraintTimeline(f)).transformConstraintIndex=M,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat()),m<f-1&&this.readCurve(t,m,y);r.push(y),i=Math.max(i,y.frames[(f-1)*q.TransformConstraintTimeline.ENTRIES])}for(l=0,h=t.readInt(!0);l<h;l++)for(var M=t.readInt(!0),w=n.pathConstraints[M],u=0,p=t.readInt(!0);u<p;u++)switch(d=t.readByte(),f=t.readInt(!0),d){case H.PATH_POSITION:case H.PATH_SPACING:var y=void 0,x=1;for(d==H.PATH_SPACING?(y=new q.PathConstraintSpacingTimeline(f),w.spacingMode!=q.SpacingMode.Length&&w.spacingMode!=q.SpacingMode.Fixed||(x=a)):(y=new q.PathConstraintPositionTimeline(f),w.positionMode==q.PositionMode.Fixed&&(x=a)),y.pathConstraintIndex=M,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat()*x),m<f-1&&this.readCurve(t,m,y);r.push(y),i=Math.max(i,y.frames[(f-1)*q.PathConstraintPositionTimeline.ENTRIES]);break;case H.PATH_MIX:for((y=new q.PathConstraintMixTimeline(f)).pathConstraintIndex=M,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat(),t.readFloat()),m<f-1&&this.readCurve(t,m,y);r.push(y),i=Math.max(i,y.frames[(f-1)*q.PathConstraintMixTimeline.ENTRIES])}for(l=0,h=t.readInt(!0);l<h;l++)for(var E=n.skins[t.readInt(!0)],u=0,p=t.readInt(!0);u<p;u++)for(var c=t.readInt(!0),T=0,b=t.readInt(!0);T<b;T++){var S=E.getAttachment(c,t.readStringRef()),I=null!=S.bones,A=S.vertices,R=I?A.length/3*2:A.length,f=t.readInt(!0);for((y=new q.DeformTimeline(f)).slotIndex=c,y.attachment=S,m=0;m<f;m++){var g=t.readFloat(),C=void 0,P=t.readInt(!0);if(0==P)C=I?q.Utils.newFloatArray(R):A;else{C=q.Utils.newFloatArray(R);var k=t.readInt(!0);if(P+=k,1==a)for(var V=k;V<P;V++)C[V]=t.readFloat();else for(V=k;V<P;V++)C[V]=t.readFloat()*a;if(!I)for(var V=0,_=C.length;V<_;V++)C[V]+=A[V]}y.setFrame(m,g,C),m<f-1&&this.readCurve(t,m,y)}r.push(y),i=Math.max(i,y.frames[f-1])}var N=t.readInt(!0);if(0<N){for(var y=new q.DrawOrderTimeline(N),F=n.slots.length,l=0;l<N;l++){for(var g=t.readFloat(),O=t.readInt(!0),D=q.Utils.newArray(F,0),u=F-1;0<=u;u--)D[u]=-1;for(var U=q.Utils.newArray(F-O,0),X=0,B=0,u=0;u<O;u++){for(c=t.readInt(!0);X!=c;)U[B++]=X++;D[X+t.readInt(!0)]=X++}for(;X<F;)U[B++]=X++;for(u=F-1;0<=u;u--)-1==D[u]&&(D[u]=U[--B]);y.setFrame(l,g,D)}r.push(y),i=Math.max(i,y.frames[N-1])}var L=t.readInt(!0);if(0<L){for(y=new q.EventTimeline(L),l=0;l<L;l++){var g=t.readFloat(),Y=n.events[t.readInt(!0)],W=new q.Event(g,Y);W.intValue=t.readInt(!1),W.floatValue=t.readFloat(),W.stringValue=t.readBoolean()?t.readString():Y.stringValue,null!=W.data.audioPath&&(W.volume=t.readFloat(),W.balance=t.readFloat()),y.setFrame(l,W)}r.push(y),i=Math.max(i,y.frames[L-1])}return new q.Animation(e,r,i)},H.prototype.readCurve=function(t,e,n){switch(t.readByte()){case H.CURVE_STEPPED:n.setStepped(e);break;case H.CURVE_BEZIER:this.setCurve(n,e,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat())}},H.prototype.setCurve=function(t,e,n,r,a,i){t.setCurve(e,n,r,a,i)},H.AttachmentTypeValues=[0,1,2,3,4,5,6],H.TransformModeValues=[q.TransformMode.Normal,q.TransformMode.OnlyTranslation,q.TransformMode.NoRotationOrReflection,q.TransformMode.NoScale,q.TransformMode.NoScaleOrReflection],H.PositionModeValues=[q.PositionMode.Fixed,q.PositionMode.Percent],H.SpacingModeValues=[q.SpacingMode.Length,q.SpacingMode.Fixed,q.SpacingMode.Percent],H.RotateModeValues=[q.RotateMode.Tangent,q.RotateMode.Chain,q.RotateMode.ChainScale],H.BlendModeValues=[q.BlendMode.Normal,q.BlendMode.Additive,q.BlendMode.Multiply,q.BlendMode.Screen],H.BONE_ROTATE=0,H.BONE_TRANSLATE=1,H.BONE_SCALE=2,H.BONE_SHEAR=3,H.SLOT_ATTACHMENT=0,H.SLOT_COLOR=1,H.SLOT_TWO_COLOR=2,H.PATH_POSITION=0,H.PATH_SPACING=1,H.PATH_MIX=2,H.CURVE_LINEAR=0,H.CURVE_STEPPED=1,H.CURVE_BEZIER=2,H);function H(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}q.SkeletonBinary=t;var x=(e.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},e.prototype.readShort=function(){var t=this.buffer.getInt16(this.index);return this.index+=2,t},e.prototype.readInt32=function(){var t=this.buffer.getInt32(this.index);return this.index+=4,t},e.prototype.readInt=function(t){var e=this.readByte(),n=127&e;return 0!=(128&e)&&(n|=(127&(e=this.readByte()))<<7,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<14,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<21,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<28)))),t?n:n>>>1^-(1&n)},e.prototype.readStringRef=function(){var t=this.readInt(!0);return 0==t?null:this.strings[t-1]},e.prototype.readString=function(){var t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;for(var e="",n=0;n<t;){var r=this.readByte();switch(r>>4){case 12:case 13:e+=String.fromCharCode((31&r)<<6|63&this.readByte()),n+=2;break;case 14:e+=String.fromCharCode((15&r)<<12|(63&this.readByte())<<6|63&this.readByte()),n+=3;break;default:e+=String.fromCharCode(r),n++}}return e},e.prototype.readFloat=function(){var t=this.buffer.getFloat32(this.index);return this.index+=4,t},e.prototype.readBoolean=function(){return 0!=this.readByte()},e);function e(t,e,n,r){void 0===e&&(e=new Array),void 0===n&&(n=0),void 0===r&&(r=new DataView(t.buffer)),this.strings=e,this.index=n,this.buffer=r}var U=function(t,e,n,r,a){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=r,this.inheritDeform=a},c=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.bones=t,this.vertices=e}}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){var p,e;function n(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new p.Pool(function(){return p.Utils.newFloatArray(16)})}p=t.core||(t.core={}),n.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,r=this.polygons,a=this.polygonPool,i=t.slots,o=i.length;n.length=0,a.freeAll(r);for(var s=r.length=0;s<o;s++){var l,h,c,u=i[s];u.bone.active&&(l=u.getAttachment())instanceof p.BoundingBoxAttachment&&(h=l,n.push(h),(c=a.obtain()).length!=h.worldVerticesLength&&(c=p.Utils.newFloatArray(h.worldVerticesLength)),r.push(c),h.computeWorldVertices(u,0,h.worldVerticesLength,c,0,2))}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},n.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,a=this.polygons,i=0,o=a.length;i<o;i++)for(var s=a[i],l=s,h=0,c=s.length;h<c;h+=2)var u=l[h],p=l[h+1],t=Math.min(t,u),e=Math.min(e,p),n=Math.max(n,u),r=Math.max(r,p);this.minX=t,this.minY=e,this.maxX=n,this.maxY=r},n.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},n.prototype.aabbIntersectsSegment=function(t,e,n,r){var a=this.minX,i=this.minY,o=this.maxX,s=this.maxY;if(t<=a&&n<=a||e<=i&&r<=i||o<=t&&o<=n||s<=e&&s<=r)return!1;var l=(r-e)/(n-t),h=l*(a-t)+e;if(i<h&&h<s)return!0;if(i<(h=l*(o-t)+e)&&h<s)return!0;var c=(i-e)/l+t;return a<c&&c<o||a<(c=(s-e)/l+t)&&c<o},n.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},n.prototype.containsPoint=function(t,e){for(var n=this.polygons,r=0,a=n.length;r<a;r++)if(this.containsPointPolygon(n[r],t,e))return this.boundingBoxes[r];return null},n.prototype.containsPointPolygon=function(t,e,n){for(var r=t,a=t.length,i=a-2,o=!1,s=0;s<a;s+=2){var l,h=r[s+1],c=r[i+1];!(h<n&&n<=c||c<n&&n<=h)||(l=r[s])+(n-h)/(c-h)*(r[i]-l)<e&&(o=!o),i=s}return o},n.prototype.intersectsSegment=function(t,e,n,r){for(var a=this.polygons,i=0,o=a.length;i<o;i++)if(this.intersectsSegmentPolygon(a[i],t,e,n,r))return this.boundingBoxes[i];return null},n.prototype.intersectsSegmentPolygon=function(t,e,n,r,a){for(var i=t,o=t.length,s=e-r,l=n-a,h=e*a-n*r,c=i[o-2],u=i[o-1],p=0;p<o;p+=2){var d=i[p],f=i[p+1],m=c*f-u*d,g=c-d,v=u-f,y=s*v-l*g,x=(h*g-s*m)/y;if((c<=x&&x<=d||d<=x&&x<=c)&&(e<=x&&x<=r||r<=x&&x<=e)){var M=(h*v-l*m)/y;if((u<=M&&M<=f||f<=M&&M<=u)&&(n<=M&&M<=a||a<=M&&M<=n))return!0}c=d,u=f}return!1},n.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},n.prototype.getWidth=function(){return this.maxX-this.minX},n.prototype.getHeight=function(){return this.maxY-this.minY},e=n,p.SkeletonBounds=e}(pixi_spine=pixi_spine||{}),function(t){var Z,e;function h(){this.triangulator=new Z.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}Z=t.core||(t.core={}),h.prototype.clipStart=function(t,e){if(null!=this.clipAttachment)return 0;var n=(this.clipAttachment=e).worldVerticesLength,r=Z.Utils.setArraySize(this.clippingPolygon,n);e.computeWorldVertices(t,0,n,r,0,2);var a=this.clippingPolygon;h.makeClockwise(a);for(var i=this.clippingPolygons=this.triangulator.decompose(a,this.triangulator.triangulate(a)),o=0,s=i.length;o<s;o++){var l=i[o];h.makeClockwise(l),l.push(l[0]),l.push(l[1])}return i.length},h.prototype.clipEndWithSlot=function(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},h.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},h.prototype.isClipping=function(){return null!=this.clipAttachment},h.prototype.clipTriangles=function(t,e,n,r,a,i,o,s){var l=this.clipOutput,h=this.clippedVertices,c=this.clippedTriangles,u=this.clippingPolygons,p=this.clippingPolygons.length,d=s?12:8,f=0;h.length=0;t:for(var m=c.length=0;m<r;m+=3)for(var g=n[m]<<1,v=t[g],y=t[g+1],x=a[g],M=a[g+1],w=t[g=n[m+1]<<1],E=t[g+1],T=a[g],b=a[g+1],S=t[g=n[m+2]<<1],I=t[g+1],A=a[g],R=a[g+1],C=0;C<p;C++){var P=h.length;if(!this.clip(v,y,w,E,S,I,u[C],l)){(X=Z.Utils.setArraySize(h,P+3*d))[P]=v,X[P+1]=y,X[P+2]=i.r,X[P+3]=i.g,X[P+4]=i.b,X[P+5]=i.a,s?(X[P+6]=x,X[P+7]=M,X[P+8]=o.r,X[P+9]=o.g,X[P+10]=o.b,X[P+11]=o.a,X[P+12]=w,X[P+13]=E,X[P+14]=i.r,X[P+15]=i.g,X[P+16]=i.b,X[P+17]=i.a,X[P+18]=T,X[P+19]=b,X[P+20]=o.r,X[P+21]=o.g,X[P+22]=o.b,X[P+23]=o.a,X[P+24]=S,X[P+25]=I,X[P+26]=i.r,X[P+27]=i.g,X[P+28]=i.b,X[P+29]=i.a,X[P+30]=A,X[P+31]=R,X[P+32]=o.r,X[P+33]=o.g,X[P+34]=o.b,X[P+35]=o.a):(X[P+6]=x,X[P+7]=M,X[P+8]=w,X[P+9]=E,X[P+10]=i.r,X[P+11]=i.g,X[P+12]=i.b,X[P+13]=i.a,X[P+14]=T,X[P+15]=b,X[P+16]=S,X[P+17]=I,X[P+18]=i.r,X[P+19]=i.g,X[P+20]=i.b,X[P+21]=i.a,X[P+22]=A,X[P+23]=R),P=c.length,(z=Z.Utils.setArraySize(c,P+3))[P]=f,z[P+1]=f+1,z[P+2]=f+2,f+=3;continue t}var k=l.length;if(0!=k){for(var V=E-I,_=S-w,N=v-S,F=I-y,O=1/(V*N+_*(y-I)),D=k>>1,U=this.clipOutput,X=Z.Utils.setArraySize(h,P+D*d),B=0;B<k;B+=2){var L=U[B],Y=U[B+1];X[P]=L,X[P+1]=Y,X[P+2]=i.r,X[P+3]=i.g,X[P+4]=i.b,X[P+5]=i.a;var W=L-S,q=Y-I,H=(V*W+_*q)*O,G=(F*W+N*q)*O,j=1-H-G;X[P+6]=x*H+T*G+A*j,X[P+7]=M*H+b*G+R*j,s&&(X[P+8]=o.r,X[P+9]=o.g,X[P+10]=o.b,X[P+11]=o.a),P+=d}P=c.length;var z=Z.Utils.setArraySize(c,P+3*(D-2));for(D--,B=1;B<D;B++)z[P]=f,z[P+1]=f+B,z[P+2]=f+B+1,P+=3;f+=D+1}}},h.prototype.clip=function(t,e,n,r,a,i,o,s){var l=s,h=!1,c=null;2<=o.length%4?(c=s,s=this.scratch):c=this.scratch,c.length=0,c.push(t),c.push(e),c.push(n),c.push(r),c.push(a),c.push(i),c.push(t),c.push(e),s.length=0;for(var u=o,p=o.length-4,d=0;;d+=2){for(var f=u[d],m=u[d+1],g=u[d+2],v=u[d+3],y=f-g,x=m-v,M=c,w=c.length-2,E=s.length,T=0;T<w;T+=2){var b=M[T],S=M[T+1],I=M[T+2],A=M[T+3],R=0<y*(A-v)-x*(I-g);if(0<y*(S-v)-x*(b-g)){if(R){s.push(I),s.push(A);continue}var C,P,k=((P=I-b)*(m-S)-(C=A-S)*(f-b))/(C*(g-f)-P*(v-m));s.push(f+(g-f)*k),s.push(m+(v-m)*k)}else R&&(k=((P=I-b)*(m-S)-(C=A-S)*(f-b))/(C*(g-f)-P*(v-m)),s.push(f+(g-f)*k),s.push(m+(v-m)*k),s.push(I),s.push(A));h=!0}if(E==s.length)return!(l.length=0);if(s.push(s[0]),s.push(s[1]),d==p)break;var V=s;(s=c).length=0,c=V}if(l!=s)for(var d=l.length=0,_=s.length-2;d<_;d++)l[d]=s[d];else l.length=l.length-2;return h},h.makeClockwise=function(t){for(var e=t,n=t.length,r=e[n-2]*e[1]-e[0]*e[n-1],a=0,i=0,o=0,s=0,l=n-3;s<l;s+=2)a=e[s],i=e[s+1],o=e[s+2],r+=a*e[s+3]-o*i;if(!(r<0))for(var s=0,h=n-2,l=n>>1;s<l;s+=2){var c=e[s],u=e[s+1],p=h-s;e[s]=e[p],e[s+1]=e[1+p],e[p]=c,e[1+p]=u}},e=h,Z.SkeletonClipping=e}(pixi_spine=pixi_spine||{}),function(t){var e,n;function r(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}e=t.core||(t.core={}),r.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},r.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},r.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},n=r,e.SkeletonData=n}(pixi_spine=pixi_spine||{}),function(t){!function(tt){tt.FAIL_ON_NON_EXISTING_SKIN=!1;var t=(F.prototype.readSkeletonData=function(t){var e,n=this.scale,r=new tt.SkeletonData,a="string"==typeof t?JSON.parse(t):t,i=a.skeleton;if(null!=i&&(r.hash=i.hash,r.version=i.spine,"3.8"!==r.version.substr(0,3)&&(e="PixiJS Spine plugin supports only format for Spine 3.8. Your model has version "+i.spine+". Please look in pixi-spine repository README for another branch.",console.error(e)),"3.8.75"===r.version&&(e="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.",console.error(e)),r.x=i.x,r.y=i.y,r.width=i.width,r.height=i.height,r.fps=i.fps,r.imagesPath=i.images),a.bones)for(var o=0;o<a.bones.length;o++){var s=a.bones[o],l=null,h=this.getValue(s,"parent",null);if(null!=h&&null==(l=r.findBone(h)))throw new Error("Parent bone not found: "+h);(d=new tt.BoneData(r.bones.length,s.name,l)).length=this.getValue(s,"length",0)*n,d.x=this.getValue(s,"x",0)*n,d.y=this.getValue(s,"y",0)*n,d.rotation=this.getValue(s,"rotation",0),d.scaleX=this.getValue(s,"scaleX",1),d.scaleY=this.getValue(s,"scaleY",1),d.shearX=this.getValue(s,"shearX",0),d.shearY=this.getValue(s,"shearY",0),d.transformMode=F.transformModeFromString(this.getValue(s,"transform","normal")),d.skinRequired=this.getValue(s,"skin",!1),r.bones.push(d)}if(a.slots)for(o=0;o<a.slots.length;o++){var c=(S=a.slots[o]).name,u=S.bone,p=r.findBone(u);if(null==p)throw new Error("Slot bone not found: "+u);var d=new tt.SlotData(r.slots.length,c,p),f=this.getValue(S,"color",null);null!=f&&d.color.setFromString(f);var m=this.getValue(S,"dark",null);null!=m&&(d.darkColor=new tt.Color(1,1,1,1),d.darkColor.setFromString(m)),d.attachmentName=this.getValue(S,"attachment",null),d.blendMode=F.blendModeFromString(this.getValue(S,"blend","normal")),r.slots.push(d)}if(a.ik)for(o=0;o<a.ik.length;o++){var g=a.ik[o];(d=new tt.IkConstraintData(g.name)).order=this.getValue(g,"order",0),d.skinRequired=this.getValue(g,"skin",!1);for(var v=0;v<g.bones.length;v++){if(u=g.bones[v],null==(w=r.findBone(u)))throw new Error("IK bone not found: "+u);d.bones.push(w)}var y=g.target;if(d.target=r.findBone(y),null==d.target)throw new Error("IK target bone not found: "+y);d.mix=this.getValue(g,"mix",1),d.softness=this.getValue(g,"softness",0)*n,d.bendDirection=this.getValue(g,"bendPositive",!0)?1:-1,d.compress=this.getValue(g,"compress",!1),d.stretch=this.getValue(g,"stretch",!1),d.uniform=this.getValue(g,"uniform",!1),r.ikConstraints.push(d)}if(a.transform)for(o=0;o<a.transform.length;o++){for(g=a.transform[o],(d=new tt.TransformConstraintData(g.name)).order=this.getValue(g,"order",0),d.skinRequired=this.getValue(g,"skin",!1),v=0;v<g.bones.length;v++){if(u=g.bones[v],null==(w=r.findBone(u)))throw new Error("Transform constraint bone not found: "+u);d.bones.push(w)}if(y=g.target,d.target=r.findBone(y),null==d.target)throw new Error("Transform constraint target bone not found: "+y);d.local=this.getValue(g,"local",!1),d.relative=this.getValue(g,"relative",!1),d.offsetRotation=this.getValue(g,"rotation",0),d.offsetX=this.getValue(g,"x",0)*n,d.offsetY=this.getValue(g,"y",0)*n,d.offsetScaleX=this.getValue(g,"scaleX",0),d.offsetScaleY=this.getValue(g,"scaleY",0),d.offsetShearY=this.getValue(g,"shearY",0),d.rotateMix=this.getValue(g,"rotateMix",1),d.translateMix=this.getValue(g,"translateMix",1),d.scaleMix=this.getValue(g,"scaleMix",1),d.shearMix=this.getValue(g,"shearMix",1),r.transformConstraints.push(d)}if(a.path)for(o=0;o<a.path.length;o++){for(g=a.path[o],(d=new tt.PathConstraintData(g.name)).order=this.getValue(g,"order",0),d.skinRequired=this.getValue(g,"skin",!1),v=0;v<g.bones.length;v++){if(u=g.bones[v],null==(w=r.findBone(u)))throw new Error("Transform constraint bone not found: "+u);d.bones.push(w)}if(y=g.target,d.target=r.findSlot(y),null==d.target)throw new Error("Path target slot not found: "+y);d.positionMode=F.positionModeFromString(this.getValue(g,"positionMode","percent")),d.spacingMode=F.spacingModeFromString(this.getValue(g,"spacingMode","length")),d.rotateMode=F.rotateModeFromString(this.getValue(g,"rotateMode","tangent")),d.offsetRotation=this.getValue(g,"rotation",0),d.position=this.getValue(g,"position",0),d.positionMode==tt.PositionMode.Fixed&&(d.position*=n),d.spacing=this.getValue(g,"spacing",0),d.spacingMode!=tt.SpacingMode.Length&&d.spacingMode!=tt.SpacingMode.Fixed||(d.spacing*=n),d.rotateMix=this.getValue(g,"rotateMix",1),d.translateMix=this.getValue(g,"translateMix",1),r.pathConstraints.push(d)}if(a.skins)for(o=0;o<a.skins.length;o++){var x=a.skins[o],M=new tt.Skin(x.name);if(x.bones)for(var w,E=0;E<x.bones.length;E++){if(null==(w=r.findBone(x.bones[E])))throw new Error("Skin bone not found: "+x.bones[o]);M.bones.push(w)}if(x.ik)for(E=0;E<x.ik.length;E++){if(null==(T=r.findIkConstraint(x.ik[E])))throw new Error("Skin IK constraint not found: "+x.ik[o]);M.constraints.push(T)}if(x.transform)for(E=0;E<x.transform.length;E++){if(null==(T=r.findTransformConstraint(x.transform[E])))throw new Error("Skin transform constraint not found: "+x.transform[o]);M.constraints.push(T)}if(x.path)for(var T,E=0;E<x.path.length;E++){if(null==(T=r.findPathConstraint(x.path[E])))throw new Error("Skin path constraint not found: "+x.path[o]);M.constraints.push(T)}for(var c in x.attachments){var b=r.findSlot(c);if(null==b)throw new Error("Slot not found: "+c);var S=x.attachments[c];for(var I in S){var A=this.readAttachment(S[I],M,b.index,I,r);null!=A&&M.setAttachment(b.index,I,A)}}r.skins.push(M),"default"==M.name&&(r.defaultSkin=M)}for(var o=0,R=this.linkedMeshes.length;o<R;o++){var C=this.linkedMeshes[o];if(null==(M=null==C.skin?r.defaultSkin:r.findSkin(C.skin)))throw new Error("Skin not found: "+C.skin);var P=M.getAttachment(C.slotIndex,C.parent);if(null==P)throw new Error("Parent mesh not found: "+C.parent);C.mesh.deformAttachment=C.inheritDeform?P:C.mesh,C.mesh.setParentMesh(P)}if(this.linkedMeshes.length=0,a.events)for(var k in a.events){var V=a.events[k];(d=new tt.EventData(k)).intValue=this.getValue(V,"int",0),d.floatValue=this.getValue(V,"float",0),d.stringValue=this.getValue(V,"string",""),d.audioPath=this.getValue(V,"audio",null),null!=d.audioPath&&(d.volume=this.getValue(V,"volume",1),d.balance=this.getValue(V,"balance",0)),r.events.push(d)}if(a.animations)for(var _ in a.animations){var N=a.animations[_];this.readAnimation(N,_,r)}return r},F.prototype.readAttachment=function(t,e,n,r,a){var i=this.scale;switch(r=this.getValue(t,"name",r),this.getValue(t,"type","region")){case"region":var o=this.getValue(t,"path",r),s=this.attachmentLoader.newRegionAttachment(e,r,o);return null==s?null:(s.path=o,s.x=this.getValue(t,"x",0)*i,s.y=this.getValue(t,"y",0)*i,s.scaleX=this.getValue(t,"scaleX",1),s.scaleY=this.getValue(t,"scaleY",1),s.rotation=this.getValue(t,"rotation",0),s.width=t.width*i,s.height=t.height*i,null!=(x=this.getValue(t,"color",null))&&s.color.setFromString(x),s);case"boundingbox":var l=this.attachmentLoader.newBoundingBoxAttachment(e,r);return null==l?null:(this.readVertices(t,l,t.vertexCount<<1),null!=(x=this.getValue(t,"color",null))&&l.color.setFromString(x),l);case"mesh":case"linkedmesh":var o=this.getValue(t,"path",r),h=this.attachmentLoader.newMeshAttachment(e,r,o);if(null==h)return null;h.path=o,null!=(x=this.getValue(t,"color",null))&&h.color.setFromString(x),h.width=this.getValue(t,"width",0)*i,h.height=this.getValue(t,"height",0)*i;var c=this.getValue(t,"parent",null);if(null!=c)return this.linkedMeshes.push(new M(h,this.getValue(t,"skin",null),n,c,this.getValue(t,"deform",!0))),h;var u=t.uvs;return this.readVertices(t,h,u.length),h.triangles=t.triangles,h.regionUVs=new Float32Array(u),h.edges=this.getValue(t,"edges",null),h.hullLength=2*this.getValue(t,"hull",0),h;case"path":if(null==(o=this.attachmentLoader.newPathAttachment(e,r)))return null;o.closed=this.getValue(t,"closed",!1),o.constantSpeed=this.getValue(t,"constantSpeed",!0);var p=t.vertexCount;this.readVertices(t,o,p<<1);for(var d=tt.Utils.newArray(p/3,0),f=0;f<t.lengths.length;f++)d[f]=t.lengths[f]*i;return o.lengths=d,null!=(x=this.getValue(t,"color",null))&&o.color.setFromString(x),o;case"point":var m=this.attachmentLoader.newPointAttachment(e,r);return null==m?null:(m.x=this.getValue(t,"x",0)*i,m.y=this.getValue(t,"y",0)*i,m.rotation=this.getValue(t,"rotation",0),null!=(x=this.getValue(t,"color",null))&&m.color.setFromString(x),m);case"clipping":var g=this.attachmentLoader.newClippingAttachment(e,r);if(null==g)return null;var v=this.getValue(t,"end",null);if(null!=v){var y=a.findSlot(v);if(null==y)throw new Error("Clipping end slot not found: "+v);g.endSlot=y}var x,p=t.vertexCount;return this.readVertices(t,g,p<<1),null!=(x=this.getValue(t,"color",null))&&g.color.setFromString(x),g}return null},F.prototype.readVertices=function(t,e,n){var r=this.scale;e.worldVerticesLength=n;var a=t.vertices;if(n!=a.length){for(var i=new Array,o=new Array,s=0,l=a.length;s<l;){var h=a[s++];o.push(h);for(var c=s+4*h;s<c;s+=4)o.push(a[s]),i.push(a[s+1]*r),i.push(a[s+2]*r),i.push(a[s+3])}e.bones=o,e.vertices=tt.Utils.toFloatArray(i)}else{var u=tt.Utils.toFloatArray(a);if(1!=r)for(var s=0,l=a.length;s<l;s++)u[s]*=r;e.vertices=u}},F.prototype.readAnimation=function(t,e,n){var r=this.scale,a=new Array,i=0;if(t.slots)for(var o in t.slots){var s=t.slots[o];if(-1==(Z=n.findSlotIndex(o)))throw new Error("Slot not found: "+o);for(var l in s){var h=s[l];if("attachment"==l){(x=new tt.AttachmentTimeline(h.length)).slotIndex=Z;for(var c=0,u=0;u<h.length;u++){var p=h[u];x.setFrame(c++,this.getValue(p,"time",0),p.name)}a.push(x),i=Math.max(i,x.frames[x.getFrameCount()-1])}else if("color"==l){for((x=new tt.ColorTimeline(h.length)).slotIndex=Z,u=c=0;u<h.length;u++){var p=h[u],d=new tt.Color;d.setFromString(p.color||"ffffffff"),x.setFrame(c,this.getValue(p,"time",0),d.r,d.g,d.b,d.a),this.readCurve(p,x,c),c++}a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.ColorTimeline.ENTRIES])}else{if("twoColor"!=l)throw new Error("Invalid timeline type for a slot: "+l+" ("+o+")");for((x=new tt.TwoColorTimeline(h.length)).slotIndex=Z,u=c=0;u<h.length;u++){var p=h[u],f=new tt.Color,m=new tt.Color;f.setFromString(p.light),m.setFromString(p.dark),x.setFrame(c,this.getValue(p,"time",0),f.r,f.g,f.b,f.a,m.r,m.g,m.b),this.readCurve(p,x,c),c++}a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.TwoColorTimeline.ENTRIES])}}}if(t.bones)for(var g in t.bones){var v=t.bones[g],y=n.findBoneIndex(g);if(-1==y)throw new Error("Bone not found: "+g);for(var l in v)if(h=v[l],"rotate"===l){for((x=new tt.RotateTimeline(h.length)).boneIndex=y,u=c=0;u<h.length;u++)p=h[u],x.setFrame(c,this.getValue(p,"time",0),this.getValue(p,"angle",0)),this.readCurve(p,x,c),c++;a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.RotateTimeline.ENTRIES])}else{if("translate"!==l&&"scale"!==l&&"shear"!==l)throw new Error("Invalid timeline type for a bone: "+l+" ("+g+")");var x=null,M=1,w=0;for("scale"===l?(x=new tt.ScaleTimeline(h.length),w=1):"shear"===l?x=new tt.ShearTimeline(h.length):(x=new tt.TranslateTimeline(h.length),M=r),x.boneIndex=y,u=c=0;u<h.length;u++){var p=h[u],E=this.getValue(p,"x",w),T=this.getValue(p,"y",w);x.setFrame(c,this.getValue(p,"time",0),E*M,T*M),this.readCurve(p,x,c),c++}a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.TranslateTimeline.ENTRIES])}}if(t.ik)for(var b in t.ik){var S=t.ik[b],I=n.findIkConstraint(b);for((x=new tt.IkConstraintTimeline(S.length)).ikConstraintIndex=n.ikConstraints.indexOf(I),u=c=0;u<S.length;u++)p=S[u],x.setFrame(c,this.getValue(p,"time",0),this.getValue(p,"mix",1),this.getValue(p,"softness",0)*r,this.getValue(p,"bendPositive",!0)?1:-1,this.getValue(p,"compress",!1),this.getValue(p,"stretch",!1)),this.readCurve(p,x,c),c++;a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.IkConstraintTimeline.ENTRIES])}if(t.transform)for(var b in t.transform){for(S=t.transform[b],I=n.findTransformConstraint(b),(x=new tt.TransformConstraintTimeline(S.length)).transformConstraintIndex=n.transformConstraints.indexOf(I),u=c=0;u<S.length;u++)p=S[u],x.setFrame(c,this.getValue(p,"time",0),this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1),this.getValue(p,"scaleMix",1),this.getValue(p,"shearMix",1)),this.readCurve(p,x,c),c++;a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.TransformConstraintTimeline.ENTRIES])}if(t.path)for(var b in t.path){var S=t.path[b],A=n.findPathConstraintIndex(b);if(-1==A)throw new Error("Path constraint not found: "+b);var R=n.pathConstraints[A];for(var l in S)if(h=S[l],"position"===l||"spacing"===l){var x=null,M=1;for("spacing"===l?(x=new tt.PathConstraintSpacingTimeline(h.length),R.spacingMode!=tt.SpacingMode.Length&&R.spacingMode!=tt.SpacingMode.Fixed||(M=r)):(x=new tt.PathConstraintPositionTimeline(h.length),R.positionMode==tt.PositionMode.Fixed&&(M=r)),x.pathConstraintIndex=A,u=c=0;u<h.length;u++)p=h[u],x.setFrame(c,this.getValue(p,"time",0),this.getValue(p,l,0)*M),this.readCurve(p,x,c),c++;a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===l){for((x=new tt.PathConstraintMixTimeline(h.length)).pathConstraintIndex=A,u=c=0;u<h.length;u++)p=h[u],x.setFrame(c,this.getValue(p,"time",0),this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1)),this.readCurve(p,x,c),c++;a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.PathConstraintMixTimeline.ENTRIES])}}if(t.deform)for(var C in t.deform){var P=t.deform[C],k=n.findSkin(C);if(null!=k)for(var o in P){if(s=P[o],-1==(Z=n.findSlotIndex(o)))throw new Error("Slot not found: "+s.name);for(var l in s){var h=s[l],V=k.getAttachment(Z,l);if(null==V)throw new Error("Deform attachment not found: "+h.name);var _=null!=V.bones,N=V.vertices,F=_?N.length/3*2:N.length;(x=new tt.DeformTimeline(h.length)).slotIndex=Z,x.attachment=V;for(var c=0,O=0;O<h.length;O++){var p=h[O],D=void 0,U=this.getValue(p,"vertices",null);if(null==U)D=_?tt.Utils.newFloatArray(F):N;else{D=tt.Utils.newFloatArray(F);var X=this.getValue(p,"offset",0);if(tt.Utils.arrayCopy(U,0,D,X,U.length),1!=r)for(var B=(u=X)+U.length;u<B;u++)D[u]*=r;if(!_)for(u=0;u<F;u++)D[u]+=N[u]}x.setFrame(c,this.getValue(p,"time",0),D),this.readCurve(p,x,c),c++}a.push(x),i=Math.max(i,x.frames[x.getFrameCount()-1])}}else if(tt.FAIL_ON_NON_EXISTING_SKIN)throw new Error("Skin not found: "+C)}var L=t.drawOrder;if(null==L&&(L=t.draworder),null!=L){for(var x=new tt.DrawOrderTimeline(L.length),Y=n.slots.length,c=0,O=0;O<L.length;O++){var W=L[O],q=null,H=this.getValue(W,"offsets",null);if(null!=H){q=tt.Utils.newArray(Y,-1);for(var G=tt.Utils.newArray(Y-H.length,0),j=0,z=0,u=0;u<H.length;u++){var Z,J=H[u];if(-1==(Z=n.findSlotIndex(J.slot)))throw new Error("Slot not found: "+J.slot);for(;j!=Z;)G[z++]=j++;q[j+J.offset]=j++}for(;j<Y;)G[z++]=j++;for(u=Y-1;0<=u;u--)-1==q[u]&&(q[u]=G[--z])}x.setFrame(c++,this.getValue(W,"time",0),q)}a.push(x),i=Math.max(i,x.frames[x.getFrameCount()-1])}if(t.events){for(x=new tt.EventTimeline(t.events.length),u=c=0;u<t.events.length;u++){var K=t.events[u],Q=n.findEvent(K.name);if(null==Q)throw new Error("Event not found: "+K.name);var $=new tt.Event(tt.Utils.toSinglePrecision(this.getValue(K,"time",0)),Q);$.intValue=this.getValue(K,"int",Q.intValue),$.floatValue=this.getValue(K,"float",Q.floatValue),$.stringValue=this.getValue(K,"string",Q.stringValue),null!=$.data.audioPath&&($.volume=this.getValue(K,"volume",1),$.balance=this.getValue(K,"balance",0)),x.setFrame(c++,$)}a.push(x),i=Math.max(i,x.frames[x.getFrameCount()-1])}if(isNaN(i))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new tt.Animation(e,a,i))},F.prototype.readCurve=function(t,e,n){var r;t.hasOwnProperty("curve")&&("stepped"===t.curve?e.setStepped(n):(r=t.curve,e.setCurve(n,r,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))))},F.prototype.getValue=function(t,e,n){return void 0!==t[e]?t[e]:n},F.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return tt.BlendMode.Normal;if("additive"==t)return tt.BlendMode.Additive;if("multiply"==t)return tt.BlendMode.Multiply;if("screen"==t)return tt.BlendMode.Screen;throw new Error("Unknown blend mode: "+t)},F.positionModeFromString=function(t){if("fixed"==(t=t.toLowerCase()))return tt.PositionMode.Fixed;if("percent"==t)return tt.PositionMode.Percent;throw new Error("Unknown position mode: "+t)},F.spacingModeFromString=function(t){if("length"==(t=t.toLowerCase()))return tt.SpacingMode.Length;if("fixed"==t)return tt.SpacingMode.Fixed;if("percent"==t)return tt.SpacingMode.Percent;throw new Error("Unknown position mode: "+t)},F.rotateModeFromString=function(t){if("tangent"==(t=t.toLowerCase()))return tt.RotateMode.Tangent;if("chain"==t)return tt.RotateMode.Chain;if("chainscale"==t)return tt.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+t)},F.transformModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return tt.TransformMode.Normal;if("onlytranslation"==t)return tt.TransformMode.OnlyTranslation;if("norotationorreflection"==t)return tt.TransformMode.NoRotationOrReflection;if("noscale"==t)return tt.TransformMode.NoScale;if("noscaleorreflection"==t)return tt.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},F);function F(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}tt.SkeletonJson=t;var M=function(t,e,n,r,a){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=r,this.inheritDeform=a}}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){!function(l){var i=function(t,e,n){this.slotIndex=t,this.name=e,this.attachment=n};l.SkinEntry=i;var t=(e.prototype.setAttachment=function(t,e,n){if(null==n)throw new Error("attachment cannot be null.");var r=this.attachments;t>=r.length&&(r.length=t+1),r[t]||(r[t]={}),r[t][e]=n},e.prototype.addSkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],r=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){r=!0;break}r||this.bones.push(n)}for(e=0;e<t.constraints.length;e++){for(var i=t.constraints[e],r=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==i){r=!0;break}r||this.constraints.push(i)}for(var o=t.getAttachments(),e=0;e<o.length;e++){var s=o[e];this.setAttachment(s.slotIndex,s.name,s.attachment)}},e.prototype.copySkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],r=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){r=!0;break}r||this.bones.push(n)}for(e=0;e<t.constraints.length;e++){for(var i=t.constraints[e],r=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==i){r=!0;break}r||this.constraints.push(i)}for(var o=t.getAttachments(),e=0;e<o.length;e++){var s=o[e];null!=s.attachment&&(s.attachment instanceof l.MeshAttachment?s.attachment=s.attachment.newLinkedMesh():s.attachment=s.attachment.copy(),this.setAttachment(s.slotIndex,s.name,s.attachment))}},e.prototype.getAttachment=function(t,e){var n=this.attachments[t];return n?n[e]:null},e.prototype.removeAttachment=function(t,e){var n=this.attachments[t];n&&(n[e]=null)},e.prototype.getAttachments=function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var n=this.attachments[e];if(n)for(var r in n){var a=n[r];a&&t.push(new i(e,r,a))}}return t},e.prototype.getAttachmentsForSlot=function(t,e){var n=this.attachments[t];if(n)for(var r in n){var a=n[r];a&&e.push(new i(t,r,a))}},e.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},e.prototype.attachAll=function(t,e){for(var n=0,r=0;r<t.slots.length;r++){var a=t.slots[r],i=a.getAttachment();if(i&&n<e.attachments.length){var o=e.attachments[n];for(var s in o)if(i==o[s]){var l=this.getAttachment(n,s);null!=l&&a.setAttachment(l);break}}n++}},e);function e(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==t)throw new Error("name cannot be null.");this.name=t}l.Skin=t}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){var n,e;function r(t,e){if(this.deform=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new n.Color,this.darkColor=null==t.darkColor?null:new n.Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}n=t.core||(t.core={}),r.prototype.getAttachment=function(){return this.attachment},r.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},r.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},r.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},r.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},e=r,n.Slot=e}(pixi_spine=pixi_spine||{}),function(t){var r;function e(t,e,n){if(this.color=new r.Color(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==n)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=n}(r=t.core||(t.core={})).SlotData=e}(pixi_spine=pixi_spine||{}),function(t){!function(t){var e,n,r,a,i=(o.prototype.getImage=function(){return this._image},o.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return e.Nearest;case"linear":return e.Linear;case"mipmap":return e.MipMap;case"mipmapnearestnearest":return e.MipMapNearestNearest;case"mipmaplinearnearest":return e.MipMapLinearNearest;case"mipmapnearestlinear":return e.MipMapNearestLinear;case"mipmaplinearlinear":return e.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},o.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return r.MirroredRepeat;case"clamptoedge":return r.ClampToEdge;case"repeat":return r.Repeat;default:throw new Error("Unknown texture wrap "+t)}},o);function o(t){this._image=t}t.Texture=i,(n=e=t.TextureFilter||(t.TextureFilter={}))[n.Nearest=9728]="Nearest",n[n.Linear=9729]="Linear",n[n.MipMap=9987]="MipMap",n[n.MipMapNearestNearest=9984]="MipMapNearestNearest",n[n.MipMapLinearNearest=9985]="MipMapLinearNearest",n[n.MipMapNearestLinear=9986]="MipMapNearestLinear",n[n.MipMapLinearLinear=9987]="MipMapLinearLinear",(a=r=t.TextureWrap||(t.TextureWrap={}))[a.MirroredRepeat=33648]="MirroredRepeat",a[a.ClampToEdge=33071]="ClampToEdge",a[a.Repeat=10497]="Repeat";var s=(Object.defineProperty(l.prototype,"width",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.width:t.trim?t.trim.width:t.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.height:t.trim?t.trim.height:t.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"offsetX",{get:function(){var t=this.texture;return t.trim?t.trim.x:0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"offsetY",{get:function(){return console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on."),this.spineOffsetY},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"pixiOffsetY",{get:function(){var t=this.texture;return t.trim?t.trim.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"spineOffsetY",{get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"originalWidth",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.width:t.crop.width:t.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"originalHeight",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.height:t.crop.height:t.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!0,configurable:!0}),l);function l(){this.size=null}t.TextureRegion=s}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){!function(A){var t=(e.prototype.addTexture=function(t,e){for(var n,r=this.pages,a=null,i=0;i<r.length;i++)if(r[i].baseTexture===e.baseTexture){a=r[i];break}null===a&&((a=new R).name="texturePage",n=e.baseTexture,a.width=n.realWidth,a.height=n.realHeight,a.baseTexture=n,a.minFilter=a.magFilter=A.TextureFilter.Nearest,a.uWrap=A.TextureWrap.ClampToEdge,a.vWrap=A.TextureWrap.ClampToEdge,r.push(a));var o=new C;return o.name=t,o.page=a,o.texture=e,o.index=-1,this.regions.push(o),o},e.prototype.addTextureHash=function(t,e){for(var n in t)t.hasOwnProperty(n)&&this.addTexture(e&&-1!==n.indexOf(".")?n.substr(0,n.lastIndexOf(".")):n,t[n])},e.prototype.addSpineAtlas=function(t,e,n){return this.load(t,e,n)},e.prototype.load=function(t,M,w){var E=this;if(null==M)throw new Error("textureLoader cannot be null.");var T=new n(t),b=new Array(4),S=null,I=function(){for(;;){var t=T.readLine();if(null==t)return w&&w(E);if(0==(t=t.trim()).length)S=null;else{if(!S){(S=new R).name=t,2==T.readTuple(b)&&(S.width=parseInt(b[0]),S.height=parseInt(b[1]),T.readTuple(b)),T.readTuple(b),S.minFilter=A.Texture.filterFromString(b[0]),S.magFilter=A.Texture.filterFromString(b[1]);var e=T.readValue();S.uWrap=A.TextureWrap.ClampToEdge,S.vWrap=A.TextureWrap.ClampToEdge,"x"==e?S.uWrap=A.TextureWrap.Repeat:"y"==e?S.vWrap=A.TextureWrap.Repeat:"xy"==e&&(S.uWrap=S.vWrap=A.TextureWrap.Repeat),M(t,function(t){return null===t?(E.pages.splice(E.pages.indexOf(S),1),w&&w(null)):((S.baseTexture=t).valid||t.setSize(S.width,S.height),E.pages.push(S),S.setFilters(),S.width&&S.height||(S.width=t.realWidth,S.height=t.realHeight,S.width&&S.height||console.log("ERROR spine atlas page "+S.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),void I())}),E.pages.push(S);break}var n=new C;n.name=t,n.page=S;var r=T.readValue(),a=0,a="true"==r.toLocaleLowerCase()?6:"false"==r.toLocaleLowerCase()?0:(720-parseFloat(r))%360/45;T.readTuple(b);var i=parseInt(b[0]),o=parseInt(b[1]);T.readTuple(b);var s=parseInt(b[0]),l=parseInt(b[1]),h=S.baseTexture.resolution;i/=h,o/=h,s/=h,l/=h;var c=a%4!=0,u=new PIXI.Rectangle(i,o,c?l:s,c?s:l);4==T.readTuple(b)&&4==T.readTuple(b)&&T.readTuple(b);var p=parseInt(b[0])/h,d=parseInt(b[1])/h;T.readTuple(b);var f,m,g=parseInt(b[0])/h,v=parseInt(b[1])/h,y=new PIXI.Rectangle(0,0,p,d),x=new PIXI.Rectangle(g,d-l-v,s,l);"3"!=PIXI.VERSION[0]?n.texture=new PIXI.Texture(n.page.baseTexture,u,y,x,a):(m=(f=new PIXI.Rectangle(i,o,s,l)).clone(),x.width=p,x.height=d,n.texture=new PIXI.Texture(n.page.baseTexture,f,m,x,a)),n.index=parseInt(T.readValue()),n.texture.updateUvs(),E.regions.push(n)}}};I()},e.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},e.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()},e);function e(t,e,n){this.pages=new Array,this.regions=new Array,t&&this.addSpineAtlas(t,e,n)}A.TextureAtlas=t;var n=(r.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},r.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},r.prototype.readTuple=function(t){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw new Error("Invalid line: "+e);for(var r=0,a=n+1;r<3;r++){var i=e.indexOf(",",a);if(-1==i)break;t[r]=e.substr(a,i-a).trim(),a=i+1}return t[r]=e.substring(a).trim(),r+1},r);function r(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}var R=(a.prototype.setFilters=function(){var t=this.baseTexture,e=this.minFilter;e==A.TextureFilter.Linear?t.scaleMode=PIXI.SCALE_MODES.LINEAR:this.minFilter==A.TextureFilter.Nearest?t.scaleMode=PIXI.SCALE_MODES.NEAREST:(t.mipmap=PIXI.MIPMAP_MODES.POW2,e==A.TextureFilter.MipMapNearestNearest?t.scaleMode=PIXI.SCALE_MODES.NEAREST:t.scaleMode=PIXI.SCALE_MODES.LINEAR)},a);function a(){}A.TextureAtlasPage=R;var i,C=(i=A.TextureRegion,__extends(o,i),o);function o(){return null!==i&&i.apply(this,arguments)||this}A.TextureAtlasRegion=C}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){var P,e;function n(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new P.Vector2,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}P=t.core||(t.core={}),n.prototype.isActive=function(){return this.active},n.prototype.apply=function(){this.update()},n.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},n.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,a=this.target,i=a.matrix,o=i.a,s=i.c,l=i.b,h=i.d,c=0<o*h-s*l?P.MathUtils.degRad:-P.MathUtils.degRad,u=this.data.offsetRotation*c,p=this.data.offsetShearY*c,d=this.bones,f=0,m=d.length;f<m;f++){var g,v,y,x,M,w,E,T,b,S,I,A=d[f],R=!1,C=A.matrix;0!=t&&(g=C.a,E=C.c,v=C.b,T=C.d,(S=Math.atan2(l,o)-Math.atan2(v,g)+u)>P.MathUtils.PI?S-=P.MathUtils.PI2:S<-P.MathUtils.PI&&(S+=P.MathUtils.PI2),S*=t,y=Math.cos(S),x=Math.sin(S),C.a=y*g-x*v,C.c=y*E-x*T,C.b=x*g+y*v,C.d=x*E+y*T,R=!0),0!=e&&(M=this.temp,a.localToWorld(M.set(this.data.offsetX,this.data.offsetY)),C.tx+=(M.x-C.tx)*e,C.ty+=(M.y-C.ty)*e,R=!0),0<n&&(I=Math.sqrt(C.a*C.a+C.b*C.b),w=Math.sqrt(o*o+l*l),1e-5<I&&(I=(I+(w-I+this.data.offsetScaleX)*n)/I),C.a*=I,C.b*=I,I=Math.sqrt(C.c*C.c+C.d*C.d),w=Math.sqrt(s*s+h*h),1e-5<I&&(I=(I+(w-I+this.data.offsetScaleY)*n)/I),C.c*=I,C.d*=I,R=!0),0<r&&(E=C.c,T=C.d,b=Math.atan2(T,E),(S=Math.atan2(h,s)-Math.atan2(l,o)-(b-Math.atan2(C.b,C.a)))>P.MathUtils.PI?S-=P.MathUtils.PI2:S<-P.MathUtils.PI&&(S+=P.MathUtils.PI2),S=b+(S+p)*r,I=Math.sqrt(E*E+T*T),C.c=Math.cos(S)*I,C.d=Math.sin(S)*I,R=!0),R&&(A.appliedValid=!1)}},n.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,a=this.target,i=a.matrix,o=i.a,s=i.c,l=i.b,h=i.d,c=0<o*h-s*l?P.MathUtils.degRad:-P.MathUtils.degRad,u=this.data.offsetRotation*c,p=this.data.offsetShearY*c,d=this.bones,f=0,m=d.length;f<m;f++){var g,v,y,x,M,w,E,T,b,S=d[f],I=!1,A=S.matrix;0!=t&&(g=A.a,E=A.c,v=A.b,T=A.d,(w=Math.atan2(l,o)+u)>P.MathUtils.PI?w-=P.MathUtils.PI2:w<-P.MathUtils.PI&&(w+=P.MathUtils.PI2),w*=t,y=Math.cos(w),x=Math.sin(w),A.a=y*g-x*v,A.c=y*E-x*T,A.b=x*g+y*v,A.d=x*E+y*T,I=!0),0!=e&&(M=this.temp,a.localToWorld(M.set(this.data.offsetX,this.data.offsetY)),A.tx+=M.x*e,A.ty+=M.y*e,I=!0),0<n&&(b=(Math.sqrt(o*o+l*l)-1+this.data.offsetScaleX)*n+1,A.a*=b,A.b*=b,b=(Math.sqrt(s*s+h*h)-1+this.data.offsetScaleY)*n+1,A.c*=b,A.d*=b,I=!0),0<r&&((w=Math.atan2(h,s)-Math.atan2(l,o))>P.MathUtils.PI?w-=P.MathUtils.PI2:w<-P.MathUtils.PI&&(w+=P.MathUtils.PI2),E=A.c,T=A.d,w=Math.atan2(T,E)+(w-P.MathUtils.PI/2+p)*r,b=Math.sqrt(E*E+T*T),A.c=Math.cos(w)*b,A.d=Math.sin(w)*b,I=!0),I&&(S.appliedValid=!1)}},n.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var i=this.bones,o=0,s=i.length;o<s;o++){var l=i[o];l.appliedValid||l.updateAppliedTransform();var h=l.arotation;0!=t&&(f=a.arotation-h+this.data.offsetRotation,h+=(f-=360*(16384-(16384.499999999996-f/360|0)))*t);var c=l.ax,u=l.ay;0!=e&&(c+=(a.ax-c+this.data.offsetX)*e,u+=(a.ay-u+this.data.offsetY)*e);var p=l.ascaleX,d=l.ascaleY;0<n&&(1e-5<p&&(p=(p+(a.ascaleX-p+this.data.offsetScaleX)*n)/p),1e-5<d&&(d=(d+(a.ascaleY-d+this.data.offsetScaleY)*n)/d));var f,m=l.ashearY;0<r&&(f=a.ashearY-m+this.data.offsetShearY,f-=360*(16384-(16384.499999999996-f/360|0)),l.shearY+=f*r),l.updateWorldTransformWith(c,u,h,p,d,l.ashearX,m)}},n.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var i=this.bones,o=0,s=i.length;o<s;o++){var l=i[o];l.appliedValid||l.updateAppliedTransform();var h=l.arotation;0!=t&&(h+=(a.arotation+this.data.offsetRotation)*t);var c=l.ax,u=l.ay;0!=e&&(c+=(a.ax+this.data.offsetX)*e,u+=(a.ay+this.data.offsetY)*e);var p=l.ascaleX,d=l.ascaleY;0<n&&(1e-5<p&&(p*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),1e-5<d&&(d*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var f=l.ashearY;0<r&&(f+=(a.ashearY+this.data.offsetShearY)*r),l.updateWorldTransformWith(c,u,h,p,d,l.ashearX,f)}},e=n,P.TransformConstraint=e}(pixi_spine=pixi_spine||{}),function(t){var e,n,r;function a(t){var e=n.call(this,t,0,!1)||this;return e.bones=new Array,e.rotateMix=0,e.translateMix=0,e.scaleMix=0,e.shearMix=0,e.offsetRotation=0,e.offsetX=0,e.offsetY=0,e.offsetScaleX=0,e.offsetScaleY=0,e.offsetShearY=0,e.relative=!1,e.local=!1,e}e=t.core||(t.core={}),n=e.ConstraintData,__extends(a,n),r=a,e.TransformConstraintData=r}(pixi_spine=pixi_spine||{}),function(t){var e,n;function L(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new e.Pool(function(){return new Array}),this.polygonIndicesPool=new e.Pool(function(){return new Array})}e=t.core||(t.core={}),L.prototype.triangulate=function(t){for(var e=t,n=t.length>>1,r=this.indicesArray,a=r.length=0;a<n;a++)r[a]=a;for(var i=this.isConcaveArray,a=i.length=0,o=n;a<o;++a)i[a]=L.isConcave(a,n,e,r);var s=this.triangles;for(s.length=0;3<n;){for(var l=n-1,a=0,h=1;;){t:if(!i[a]){for(var c=r[l]<<1,u=r[a]<<1,p=r[h]<<1,d=e[c],f=e[1+c],m=e[u],g=e[1+u],v=e[p],y=e[1+p],x=(h+1)%n;x!=l;x=(x+1)%n)if(i[x]){var M=r[x]<<1,w=e[M],E=e[1+M];if(L.positiveArea(v,y,d,f,w,E)&&L.positiveArea(d,f,m,g,w,E)&&L.positiveArea(m,g,v,y,w,E))break t}break}if(0==h){do{if(!i[a])break;a--}while(0<a);break}l=a,h=((a=h)+1)%n}s.push(r[(n+a-1)%n]),s.push(r[a]),s.push(r[(a+1)%n]),r.splice(a,1),i.splice(a,1);var T=(--n+a-1)%n,b=a==n?0:a;i[T]=L.isConcave(T,n,e,r),i[b]=L.isConcave(b,n,e,r)}return 3==n&&(s.push(r[2]),s.push(r[0]),s.push(r[1])),s},L.prototype.decompose=function(t,e){var n=t,r=this.convexPolygons;this.polygonPool.freeAll(r),r.length=0;var a=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(a),a.length=0;var i=this.polygonIndicesPool.obtain();i.length=0;for(var o=this.polygonPool.obtain(),s=-1,l=o.length=0,h=0,c=e.length;h<c;h+=3){var u=e[h]<<1,p=e[h+1]<<1,d=e[h+2]<<1,f=n[u],m=n[1+u],g=n[p],v=n[1+p],y=n[d],x=n[1+d],M=!1;s==u&&(w=o.length-4,A=L.winding(o[w],o[w+1],o[w+2],o[w+3],y,x),R=L.winding(y,x,o[0],o[1],o[2],o[3]),A==l&&R==l&&(o.push(y),o.push(x),i.push(d),M=!0)),M||(0<o.length?(r.push(o),a.push(i)):(this.polygonPool.free(o),this.polygonIndicesPool.free(i)),(o=this.polygonPool.obtain()).length=0,o.push(f),o.push(m),o.push(g),o.push(v),o.push(y),o.push(x),(i=this.polygonIndicesPool.obtain()).length=0,i.push(u),i.push(p),i.push(d),l=L.winding(f,m,g,v,y,x),s=u)}for(0<o.length&&(r.push(o),a.push(i)),h=0,c=r.length;h<c;h++)if(0!=(i=a[h]).length)for(var w,E,T,b,S,I,A,R,C=i[0],P=i[i.length-1],k=(o=r[h])[w=o.length-4],V=o[w+1],_=o[w+2],N=o[w+3],F=o[0],O=o[1],D=o[2],U=o[3],X=L.winding(k,V,_,N,F,O),B=0;B<c;B++)B!=h&&3==(E=a[B]).length&&(T=E[0],b=E[1],S=E[2],y=(I=r[B])[I.length-2],x=I[I.length-1],T==C&&b==P&&(A=L.winding(k,V,_,N,y,x),R=L.winding(y,x,F,O,D,U),A==X&&R==X&&(I.length=0,E.length=0,o.push(y),o.push(x),i.push(S),k=_,V=N,_=y,N=x,B=0)));for(h=r.length-1;0<=h;h--)0==(o=r[h]).length&&(r.splice(h,1),this.polygonPool.free(o),i=a[h],a.splice(h,1),this.polygonIndicesPool.free(i));return r},L.isConcave=function(t,e,n,r){var a=r[(e+t-1)%e]<<1,i=r[t]<<1,o=r[(t+1)%e]<<1;return!this.positiveArea(n[a],n[1+a],n[i],n[1+i],n[o],n[1+o])},L.positiveArea=function(t,e,n,r,a,i){return 0<=t*(i-r)+n*(e-i)+a*(r-e)},L.winding=function(t,e,n,r,a,i){var o=n-t,s=r-e;return 0<=a*s-i*o+o*e-t*s?1:-1},n=L,e.Triangulator=n}(pixi_spine=pixi_spine||{}),function(t){!function(t){var e=(n.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},n.prototype.contains=function(t){return null!=this.array[0|t]},n.prototype.remove=function(t){this.array[0|t]=void 0},n.prototype.clear=function(){this.array.length=0},n);function n(){this.array=new Array}t.IntSet=e;var r=(a.prototype.set=function(t,e,n,r){return this.r=t,this.g=e,this.b=n,this.a=r,this.clamp(),this},a.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},a.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},a.prototype.add=function(t,e,n,r){return this.r+=t,this.g+=e,this.b+=n,this.a+=r,this.clamp(),this},a.prototype.clamp=function(){return this.r<0?this.r=0:1<this.r&&(this.r=1),this.g<0?this.g=0:1<this.g&&(this.g=1),this.b<0?this.b=0:1<this.b&&(this.b=1),this.a<0?this.a=0:1<this.a&&(this.a=1),this},a.rgba8888ToColor=function(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255},a.rgb888ToColor=function(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255},a.WHITE=new a(1,1,1,1),a.RED=new a(1,0,0,1),a.GREEN=new a(0,1,0,1),a.BLUE=new a(0,0,1,1),a.MAGENTA=new a(1,0,1,1),a);function a(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.r=t,this.g=e,this.b=n,this.a=r}t.Color=r;var i=(o.clamp=function(t,e,n){return t<e?e:n<t?n:t},o.cosDeg=function(t){return Math.cos(t*o.degRad)},o.sinDeg=function(t){return Math.sin(t*o.degRad)},o.signum=function(t){return 0<t?1:t<0?-1:0},o.toInt=function(t){return 0<t?Math.floor(t):Math.ceil(t)},o.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},o.randomTriangular=function(t,e){return o.randomTriangularWith(t,e,.5*(t+e))},o.randomTriangularWith=function(t,e,n){var r=Math.random(),a=e-t;return r<=(n-t)/a?t+Math.sqrt(r*a*(n-t)):e-Math.sqrt((1-r)*a*(e-n))},o.PI2=2*(o.PI=3.1415927),o.radDeg=o.radiansToDegrees=180/o.PI,o.degRad=o.degreesToRadians=o.PI/180,o);function o(){}t.MathUtils=i;var s=(l.prototype.apply=function(t,e,n){return t+(e-t)*this.applyInternal(n)},l);function l(){}t.Interpolation=s;var h,c=(__extends(u,h=s),u.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1},u);function u(t){var e=h.call(this)||this;return e.power=2,e.power=t,e}t.Pow=c;var p,d=(__extends(f,p=c),f.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1},f);function f(t){return p.call(this,t)||this}t.PowOut=d;var m=(g.arrayCopy=function(t,e,n,r,a){for(var i=e,o=r;i<e+a;i++,o++)n[o]=t[i]},g.setArraySize=function(t,e,n){void 0===n&&(n=0);var r=t.length;if(r==e)return t;if(r<(t.length=e))for(var a=r;a<e;a++)t[a]=n;return t},g.ensureArrayCapacity=function(t,e,n){return void 0===n&&(n=0),t.length>=e?t:g.setArraySize(t,e,n)},g.newArray=function(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n},g.newFloatArray=function(t){if(g.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return e},g.newShortArray=function(t){if(g.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return e},g.toFloatArray=function(t){return g.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t},g.toSinglePrecision=function(t){return g.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t},g.webkit602BugfixHelper=function(t,e){},g.contains=function(t,e,n){void 0===n&&(n=!0);for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1},g.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,g);function g(){}t.Utils=m;var v=(y.logBones=function(t){for(var e=0;e<t.bones.length;e++){var n=t.bones[e],r=n.matrix;console.log(n.data.name+", "+r.a+", "+r.b+", "+r.c+", "+r.d+", "+r.tx+", "+r.ty)}},y);function y(){}t.DebugUtils=v;var x=(M.prototype.obtain=function(){return 0<this.items.length?this.items.pop():this.instantiator()},M.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},M.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]},M.prototype.clear=function(){this.items.length=0},M);function M(t){this.items=new Array,this.instantiator=t}t.Pool=x;var w=(E.prototype.set=function(t,e){return this.x=t,this.y=e,this},E.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},E.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},E);function E(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}t.Vector2=w;var T=(b.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,1<this.frameTime&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},b);function b(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}t.TimeKeeper=T;var S=(I.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},I.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},I.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},I);function I(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}t.WindowedMean=S}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){!function(e){function t(t){if(null==t)throw new Error("name cannot be null.");this.name=t}e.Attachment=t;var n,r=(__extends(a,n=t),a.prototype.computeWorldVerticesOld=function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)},a.prototype.computeWorldVertices=function(t,e,n,r,a,i){n=a+(n>>1)*i;var o=t.bone.skeleton,s=t.deform,l=this.vertices,h=this.bones;if(null!=h){for(var c=0,u=0,p=0;p<e;p+=2)c+=(g=h[c])+1,u+=g;var d=o.bones;if(0==s.length)for(E=a,T=3*u;E<n;E+=i){var f=0,m=0,g=h[c++];for(g+=c;c<g;c++,T+=3){var v=d[h[c]].matrix,y=l[T],x=l[T+1],M=l[T+2];f+=(y*v.a+x*v.c+v.tx)*M,m+=(y*v.b+x*v.d+v.ty)*M}r[E]=f,r[E+1]=m}else for(var w=s,E=a,T=3*u,b=u<<1;E<n;E+=i){for(m=f=0,g=h[c++],g+=c;c<g;c++,T+=3,b+=2)v=d[h[c]].matrix,y=l[T]+w[b],x=l[T+1]+w[b+1],M=l[T+2],f+=(y*v.a+x*v.c+v.tx)*M,m+=(y*v.b+x*v.d+v.ty)*M;r[E]=f,r[E+1]=m}}else{0<s.length&&(l=s);for(var S=(v=t.bone.matrix).tx,I=v.ty,A=v.a,T=v.c,R=v.b,C=v.d,P=e,E=a;E<n;P+=2,E+=i){var y=l[P],x=l[P+1];r[E]=y*A+x*T+S,r[E+1]=y*R+x*C+I}}},a.prototype.copyTo=function(t){null!=this.bones?(t.bones=new Array(this.bones.length),e.Utils.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,null!=this.vertices?(t.vertices=e.Utils.newFloatArray(this.vertices.length),e.Utils.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)):t.vertices=null,t.worldVerticesLength=this.worldVerticesLength,t.deformAttachment=this.deformAttachment},a.nextID=0,a);function a(t){var e=n.call(this,t)||this;return e.id=(65535&a.nextID++)<<11,e.worldVerticesLength=0,e.deformAttachment=e}e.VertexAttachment=r}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){var e,n;e=t.core||(t.core={}),(n=e.AttachmentType||(e.AttachmentType={}))[n.Region=0]="Region",n[n.BoundingBox=1]="BoundingBox",n[n.Mesh=2]="Mesh",n[n.LinkedMesh=3]="LinkedMesh",n[n.Path=4]="Path",n[n.Point=5]="Point",n[n.Clipping=6]="Clipping"}(pixi_spine=pixi_spine||{}),function(t){var n,r,e;function a(t){var e=r.call(this,t)||this;return e.color=new n.Color(1,1,1,1),e}n=t.core||(t.core={}),r=n.VertexAttachment,__extends(a,r),a.prototype.copy=function(){var t=new a(name);return this.copyTo(t),t.color.setFromColor(this.color),t},e=a,n.BoundingBoxAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var n,r,e;function a(t){var e=r.call(this,t)||this;return e.color=new n.Color(.2275,.2275,.8078,1),e}n=t.core||(t.core={}),r=n.VertexAttachment,__extends(a,r),a.prototype.copy=function(){var t=new a(name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t},e=a,n.ClippingAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var n,r,e;function a(t){var e=r.call(this,t)||this;return e.color=new n.Color(1,1,1,1),e.tempColor=new n.Color(0,0,0,0),e}n=t.core||(t.core={}),r=n.VertexAttachment,__extends(a,r),a.prototype.getParentMesh=function(){return this.parentMesh},a.prototype.setParentMesh=function(t){null!=(this.parentMesh=t)&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},a.prototype.copy=function(){if(null!=this.parentMesh)return this.newLinkedMesh();var t=new a(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Float32Array(this.regionUVs.length),n.Utils.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),n.Utils.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),n.Utils.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,null!=this.edges&&(t.edges=new Array(this.edges.length),n.Utils.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t},a.prototype.newLinkedMesh=function(){var t=new a(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(null!=this.parentMesh?this.parentMesh:this),t},e=a,n.MeshAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var n,r,e;function a(t){var e=r.call(this,t)||this;return e.closed=!1,e.constantSpeed=!1,e.color=new n.Color(1,1,1,1),e}n=t.core||(t.core={}),r=n.VertexAttachment,__extends(a,r),a.prototype.copy=function(){var t=new a(name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),n.Utils.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t},e=a,n.PathAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var o,n,e;function r(t){var e=n.call(this,t)||this;return e.color=new o.Color(.38,.94,0,1),e}o=t.core||(t.core={}),n=o.VertexAttachment,__extends(r,n),r.prototype.computeWorldPosition=function(t,e){var n=t.matrix;return e.x=this.x*n.a+this.y*n.c+t.worldX,e.y=this.x*n.b+this.y*n.d+t.worldY,e},r.prototype.computeWorldRotation=function(t){var e=t.matrix,n=o.MathUtils.cosDeg(this.rotation),r=o.MathUtils.sinDeg(this.rotation),a=n*e.a+r*e.c,i=n*e.b+r*e.d;return Math.atan2(i,a)*o.MathUtils.radDeg},r.prototype.copy=function(){var t=new r(name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t},e=r,o.PointAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var n,r,e;function y(t){var e=r.call(this,t)||this;return e.x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.rotation=0,e.width=0,e.height=0,e.color=new n.Color(1,1,1,1),e.offset=n.Utils.newFloatArray(8),e.uvs=n.Utils.newFloatArray(8),e.tempColor=new n.Color(1,1,1,1),e}n=t.core||(t.core={}),r=n.Attachment,__extends(y,r),y.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*t,r=-this.height/2*this.scaleY+this.region.offsetY*e,a=n+this.region.width*t,i=r+this.region.height*e,o=this.rotation*Math.PI/180,s=Math.cos(o),l=Math.sin(o),h=n*s+this.x,c=n*l,u=r*s+this.y,p=r*l,d=a*s+this.x,f=a*l,m=i*s+this.y,g=i*l,v=this.offset;v[y.OX1]=h-p,v[y.OY1]=u+c,v[y.OX2]=h-g,v[y.OY2]=m+c,v[y.OX3]=d-g,v[y.OY3]=m+f,v[y.OX4]=d-p,v[y.OY4]=u+f},y.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},y.prototype.computeWorldVertices=function(t,e,n,r){var a=this.offset,i=t.matrix,o=i.tx,s=i.ty,l=i.a,h=i.c,c=i.b,u=i.d,p=0,d=0,p=a[y.OX1],d=a[y.OY1];e[n]=p*l+d*h+o,e[n+1]=p*c+d*u+s,n+=r,p=a[y.OX2],d=a[y.OY2],e[n]=p*l+d*h+o,e[n+1]=p*c+d*u+s,n+=r,p=a[y.OX3],d=a[y.OY3],e[n]=p*l+d*h+o,e[n+1]=p*c+d*u+s,n+=r,p=a[y.OX4],d=a[y.OY4],e[n]=p*l+d*h+o,e[n+1]=p*c+d*u+s},y.prototype.copy=function(){var t=new y(name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,n.Utils.arrayCopy(this.uvs,0,t.uvs,0,8),n.Utils.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t},y.OX1=0,y.OY1=1,y.OX2=2,y.OY2=3,y.OX3=4,y.OY3=5,y.OX4=6,y.OY4=7,y.X1=0,y.Y1=1,y.C1R=2,y.C1G=3,y.C1B=4,y.C1A=5,y.U1=6,y.V1=7,y.X2=8,y.Y2=9,y.C2R=10,y.C2G=11,y.C2B=12,y.C2A=13,y.U2=14,y.V2=15,y.X3=16,y.Y3=17,y.C3R=18,y.C3G=19,y.C3B=20,y.C3A=21,y.U3=22,y.V3=23,y.X4=24,y.Y4=25,y.C4R=26,y.C4G=27,y.C4B=28,y.C4A=29,y.U4=30,y.V4=31,e=y,n.RegionAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var a,e;function n(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}a=t.core||(t.core={}),n.prototype.begin=function(t){},n.prototype.transform=function(t,e,n,r){t.x+=a.MathUtils.randomTriangular(-this.jitterX,this.jitterY),t.y+=a.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},n.prototype.end=function(){},e=n,a.JitterEffect=e}(pixi_spine=pixi_spine||{}),function(t){var u,e;function p(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}u=t.core||(t.core={}),p.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},p.prototype.transform=function(t,e,n,r){var a,i,o,s=this.angle*u.MathUtils.degreesToRadians,l=t.x-this.worldX,h=t.y-this.worldY,c=Math.sqrt(l*l+h*h);c<this.radius&&(a=p.interpolation.apply(0,s,(this.radius-c)/this.radius),i=Math.cos(a),o=Math.sin(a),t.x=i*l-o*h+this.worldX,t.y=o*l+i*h+this.worldY)},p.prototype.end=function(){},p.interpolation=new u.PowOut(2),e=p,u.SwirlEffect=e}(pixi_spine=pixi_spine||{}),function(){var e;Math.fround||(Math.fround=Math.fround=(e=new Float32Array(1),function(t){return e[0]=t,e[0]}))}(),function(A){A.core.Bone.yDown=!0;var e,R=[0,0,0],n=(e=PIXI.Sprite,__extends(t,e),t);function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.region=null,t.attachment=null,t}A.SpineSprite=n;var r,a=PIXI.GraphicsGeometry.prototype;a.invalidate||(r=[],a.invalidate=function(){var t=this.graphicsData;r.push(0),this.graphicsData=r,this.clear(),this.graphicsData=t});var o,i=(o=PIXI.SimpleMesh,__extends(s,o),s);function s(t,e,n,r,a){var i=o.call(this,t,e,n,r,a)||this;return i.region=null,i.attachment=null,i}A.SpineMesh=i;var c,l=(c=PIXI.Container,__extends(h,c),Object.defineProperty(h.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,this.updateTransform=t?h.prototype.autoUpdateTransform:PIXI.Container.prototype.updateTransform)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t)&&(this.lastTime=0)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"tint",{get:function(){return PIXI.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=PIXI.utils.hex2rgb(t,this.tintRgb)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"delayLimit",{get:function(){return(void 0!==this.localDelayLimit?this.localDelayLimit:h.globalDelayLimit)||Number.MAX_VALUE},enumerable:!0,configurable:!0}),h.prototype.update=function(t){var e=this.delayLimit;if(e<t&&(t=e),this.state.update(t),this.state.apply(this.skeleton),this.skeleton){this.skeleton.updateWorldTransform();var n=this.skeleton.slots,r=this.color,a=null,i=null;r?(a=r.light,i=r.dark):a=this.tintRgb;for(var o=0,s=n.length;o<s;o++){var l=(I=n[o]).getAttachment(),h=this.slotContainers[o];if(l){var c,u,p,d,f,m=null,g=l.color;if(l instanceof A.core.RegionAttachment){var v,y,x,M,w=l.region;w&&(I.currentMesh&&(I.currentMesh.visible=!1,I.currentMesh=null,I.currentMeshName=void 0),v=w,I.currentSpriteName&&I.currentSpriteName===v.name?I.currentSpriteName!==v.name||I.hackRegion||this.setSpriteRegion(l,I.currentSprite,w):(y=v.name,I.currentSprite&&(I.currentSprite.visible=!1),I.sprites=I.sprites||{},void 0!==I.sprites[y]?I.sprites[y].visible=!0:(x=this.createSprite(I,l,y),h.addChild(x)),I.currentSprite=I.sprites[y],I.currentSpriteName=y)),(M=h.transform).setFromMatrix(I.bone.matrix),I.currentSprite.color?m=I.currentSprite.color:(R[0]=a[0]*I.color.r*g.r,R[1]=a[1]*I.color.g*g.g,R[2]=a[2]*I.color.b*g.b,I.currentSprite.tint=PIXI.utils.rgb2hex(R)),I.currentSprite.blendMode=I.blendMode}else if(l instanceof A.core.MeshAttachment)I.currentSprite&&(I.currentSprite.visible=!1,I.currentSprite=null,I.currentSpriteName=void 0,(M=new PIXI.Transform)._parentID=-1,M._worldID=h.transform._worldID,h.transform=M),I.currentMeshName&&I.currentMeshName===l.name||(c=l.name,I.currentMesh&&(I.currentMesh.visible=!1),I.meshes=I.meshes||{},void 0!==I.meshes[c]?I.meshes[c].visible=!0:(u=this.createMesh(I,l),h.addChild(u)),I.currentMesh=I.meshes[c],I.currentMeshName=c),l.computeWorldVerticesOld(I,I.currentMesh.vertices),I.currentMesh.color?m=I.currentMesh.color:(R[0]=a[0]*I.color.r*g.r,R[1]=a[1]*I.color.g*g.g,R[2]=a[2]*I.color.b*g.b,I.currentMesh.tint=PIXI.utils.rgb2hex(R)),I.currentMesh.blendMode=I.blendMode;else{if(!(l instanceof A.core.ClippingAttachment)){h.visible=!1;continue}I.currentGraphics||(this.createGraphics(I,l),h.addChild(I.clippingContainer),h.addChild(I.currentGraphics)),this.updateGraphics(I,l)}h.visible=!0,m&&(p=I.color.r*g.r,d=I.color.g*g.g,f=I.color.b*g.b,m.setLight(a[0]*p+i[0]*(1-p),a[1]*d+i[1]*(1-d),a[2]*f+i[2]*(1-f)),f=I.darkColor?(p=I.darkColor.r,d=I.darkColor.g,I.darkColor.b):d=p=0,m.setDark(a[0]*p+i[0]*(1-p),a[1]*d+i[1]*(1-d),a[2]*f+i[2]*(1-f))),h.alpha=I.color.a}else h.visible=!1}for(var E=this.skeleton.drawOrder,T=null,b=null,o=0,s=E.length;o<s;o++){var S,I=n[E[o].data.index],h=this.slotContainers[E[o].data.index];b||null!==h.parent&&h.parent!==this&&(h.parent.removeChild(h),h.parent=this),I.currentGraphics&&I.getAttachment()?(b=I.clippingContainer,T=I.getAttachment(),b.children.length=0,this.children[o]=h,T.endSlot==I.data&&(T.endSlot=null)):b?((S=this.tempClipContainers[o])||((S=this.tempClipContainers[o]=this.newContainer()).visible=!1),this.children[o]=S,h.parent=null,b.addChild(h),T.endSlot==I.data&&(b.renderable=!0,T=b=null)):this.children[o]=h}}},h.prototype.setSpriteRegion=function(t,e,n){e.attachment===t&&e.region===n||(e.region=n,e.attachment=t,e.texture=n.texture,e.rotation=t.rotation*A.core.MathUtils.degRad,e.position.x=t.x,e.position.y=t.y,e.alpha=t.color.a,n.size?(e.scale.x=n.size.width/n.originalWidth,e.scale.y=-n.size.height/n.originalHeight):(e.scale.x=t.scaleX*t.width/n.originalWidth,e.scale.y=-t.scaleY*t.height/n.originalHeight))},h.prototype.setMeshRegion=function(t,e,n){e.attachment===t&&e.region===n||(e.region=n,e.attachment=t,e.texture=n.texture,n.texture.updateUvs(),e.uvBuffer.update(t.regionUVs))},h.prototype.autoUpdateTransform=function(){var t;h.globalAutoUpdate?(this.lastTime=this.lastTime||Date.now(),t=.001*(Date.now()-this.lastTime),this.lastTime=Date.now(),this.update(t)):this.lastTime=0,PIXI.Container.prototype.updateTransform.call(this)},h.prototype.createSprite=function(t,e,n){var r=e.region;t.hackAttachment===e&&(r=t.hackRegion);var a=r.texture,i=this.newSprite(a);return i.anchor.set(.5),this.setSpriteRegion(e,i,e.region),t.sprites=t.sprites||{},t.sprites[n]=i},h.prototype.createMesh=function(t,e){var n=e.region;t.hackAttachment===e&&(n=t.hackRegion,t.hackAttachment=null,t.hackRegion=null);var r=this.newMesh(n.texture,new Float32Array(e.regionUVs.length),e.regionUVs,new Uint16Array(e.triangles),PIXI.DRAW_MODES.TRIANGLES);return r.canvasPadding&&(r.canvasPadding=1.5),r.alpha=e.color.a,r.region=e.region,this.setMeshRegion(e,r,n),t.meshes=t.meshes||{},t.meshes[e.name]=r},h.prototype.createGraphics=function(t,e){var n=this.newGraphics(),r=new PIXI.Polygon([]);return n.clear(),n.beginFill(16777215,1),n.drawPolygon(r),n.renderable=!1,t.currentGraphics=n,t.clippingContainer=this.newContainer(),t.clippingContainer.mask=t.currentGraphics,n},h.prototype.updateGraphics=function(t,e){var n=t.currentGraphics.geometry,r=n.graphicsData[0].shape.points,a=e.worldVerticesLength;r.length=a,e.computeWorldVertices(t,0,a,r,0,2),n.invalidate()},h.prototype.hackTextureBySlotIndex=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=this.skeleton.slots[t];if(!r)return!1;var a=r.getAttachment(),i=a.region;return e?((i=new A.core.TextureRegion).texture=e,i.size=n,r.hackRegion=i,r.hackAttachment=a):(r.hackRegion=null,r.hackAttachment=null),r.currentSprite&&r.currentSprite.region!=i?(this.setSpriteRegion(a,r.currentSprite,i),r.currentSprite.region=i):r.currentMesh&&r.currentMesh.region!=i&&this.setMeshRegion(a,r.currentMesh,i),!0},h.prototype.hackTextureBySlotName=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=this.skeleton.findSlotIndex(t);return-1!=r&&this.hackTextureBySlotIndex(r,e,n)},h.prototype.newContainer=function(){return new PIXI.Container},h.prototype.newSprite=function(t){return new n(t)},h.prototype.newGraphics=function(){return new PIXI.Graphics},h.prototype.newMesh=function(t,e,n,r,a){return new i(t,e,n,r,a)},h.prototype.transformHack=function(){return 1},h.prototype.hackAttachmentGroups=function(t,e,n){if(t){for(var r=[],a=[],i=0,o=this.skeleton.slots.length;i<o;i++){var s=this.skeleton.slots[i],l=s.currentSpriteName||s.currentMeshName||"",h=s.currentSprite||s.currentMesh;l.endsWith(t)?(h.parentGroup=e,a.push(h)):n&&h&&(h.parentGroup=n,r.push(h))}return[r,a]}},h.prototype.destroy=function(t){for(var e=0,n=this.skeleton.slots.length;e<n;e++){var r=this.skeleton.slots[e];for(var a in r.meshes)r.meshes[a].destroy(t);for(var i in r.meshes=null,r.sprites)r.sprites[i].destroy(t);r.sprites=null}for(e=0,n=this.slotContainers.length;e<n;e++)this.slotContainers[e].destroy(t);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,c.prototype.destroy.call(this,t)},h.globalAutoUpdate=!0,h.globalDelayLimit=0,h.clippingPolygon=[],h);function h(t){var e=c.call(this)||this;if(!t)throw new Error("The spineData param is required.");if("string"==typeof t)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');e.spineData=t,e.skeleton=new A.core.Skeleton(t),e.skeleton.updateWorldTransform(),e.stateData=new A.core.AnimationStateData(t),e.state=new A.core.AnimationState(e.stateData),e.slotContainers=[],e.tempClipContainers=[];for(var n=0,r=e.skeleton.slots.length;n<r;n++){var a=e.skeleton.slots[n],i=a.getAttachment(),o=e.newContainer();if(e.slotContainers.push(o),e.addChild(o),e.tempClipContainers.push(null),i instanceof A.core.RegionAttachment){var s=i.region.name,l=e.createSprite(a,i,s);a.currentSprite=l,a.currentSpriteName=s,o.addChild(l)}else if(i instanceof A.core.MeshAttachment){var h=e.createMesh(a,i);a.currentMesh=h,a.currentMeshName=i.name,o.addChild(h)}else{if(!(i instanceof A.core.ClippingAttachment))continue;e.createGraphics(a,i),o.addChild(a.clippingContainer),o.addChild(a.currentGraphics)}}return e.tintRgb=new Float32Array([1,1,1]),e.autoUpdate=!0,e.visible=!0,e}A.Spine=l}(pixi_spine=pixi_spine||{}),function(t){PIXI.spine=t;var e=PIXI.Texture.prototype;e._updateUvs||(e._updateUvs=e.updateUvs)}(pixi_spine=pixi_spine||{}),function(y){PIXI.LoaderResource.setExtensionXhrType("skel",PIXI.LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var t=(e.use=function(e,n){if(!e.data)return n();var t=e.type===PIXI.LoaderResource.TYPE.JSON&&e.data.bones,r=e.xhrType===PIXI.LoaderResource.XHR_RESPONSE_TYPE.BUFFER&&("skel"===e.extension||e.metadata.spineMetadata);if(!t&&!r)return n();var a=null,i=e.data;t?a=new y.core.SkeletonJson(null):(a=new y.core.SkeletonBinary(null),e.data instanceof ArrayBuffer&&(i=new Uint8Array(e.data)));var o=e.metadata||{},s=o?e.metadata.spineSkeletonScale:null;s&&(a.scale=s);var l=o?e.metadata.spineAtlas:null;if(!1===l)return n();if(l&&l.pages)return a.attachmentLoader=new y.core.AtlasAttachmentLoader(l),e.spineData=a.readSkeletonData(i),e.spineAtlas=l,n();var h=o.spineAtlasSuffix||".atlas",c=e.url,u=c.indexOf("?");function p(t){new y.core.TextureAtlas(t,v,function(t){t&&(a.attachmentLoader=new y.core.AtlasAttachmentLoader(t),e.spineData=a.readSkeletonData(i),e.spineAtlas=t),n()})}0<u&&(c=c.substr(0,u)),c=c.substr(0,c.lastIndexOf("."))+h,e.metadata&&e.metadata.spineAtlasFile&&(c=e.metadata.spineAtlasFile),c=c.replace(this.baseUrl,"");var d={crossOrigin:e.crossOrigin,xhrType:PIXI.LoaderResource.XHR_RESPONSE_TYPE.TEXT,metadata:o.spineMetadata||null,parentResource:e},f={crossOrigin:e.crossOrigin,metadata:o.imageMetadata||null,parentResource:e},m=(m=e.url.substr(0,e.url.lastIndexOf("/")+1)).replace(this.baseUrl,""),g=o.imageNamePrefix||e.name+"_atlas_page_",v=o.images?M(o.images):o.image?M({default:o.image}):o.imageLoader?o.imageLoader(this,g,m,f):x(this,g,m,f);e.metadata&&e.metadata.atlasRawData?p(e.metadata.atlasRawData):this.add(e.name+"_atlas",c,d,function(t){t.error?n():p(t.data)})},e);function e(){}function x(o,s,l,h){return l&&l.lastIndexOf("/")!==l.length-1&&(l+="/"),function(t,e){var n=s+t,r=l+t,a=o.resources[n];function i(){e(a.texture.baseTexture)}a?a.texture?i():a.onAfterMiddleware.add(i):o.add(n,r,h,function(t){t.error?e(null):e(t.texture.baseTexture)})}}function M(r){return function(t,e){var n=r[t]||r.default;n&&n.baseTexture?e(n.baseTexture):e(n)}}y.AtlasParser=t,y.imageLoaderAdapter=x,y.syncImageLoaderAdapter=function(t,n){return t&&t.lastIndexOf("/")!==t.length-1&&(t+="/"),function(t,e){e(PIXI.BaseTexture.from(t,n))}},y.staticImageLoader=M,PIXI.Loader&&PIXI.Loader.registerPlugin(t)}(pixi_spine=pixi_spine||{});